<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [cxx-abi-dev] C++0x POD
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20%5Bcxx-abi-dev%5D%20C%2B%2B0x%20POD&In-Reply-To=%3C4A6663D3.7000104%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002202.html">
   <LINK REL="Next"  HREF="002204.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[cxx-abi-dev] C++0x POD</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20%5Bcxx-abi-dev%5D%20C%2B%2B0x%20POD&In-Reply-To=%3C4A6663D3.7000104%40codesourcery.com%3E"
       TITLE="[cxx-abi-dev] C++0x POD">mark at codesourcery.com
       </A><BR>
    <I>Wed Jul 22 00:56:51 UTC 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002202.html">[cxx-abi-dev] C++0x POD
</A></li>
        <LI>Next message: <A HREF="002204.html">[cxx-abi-dev] C++0x POD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2203">[ date ]</a>
              <a href="thread.html#2203">[ thread ]</a>
              <a href="subject.html#2203">[ subject ]</a>
              <a href="author.html#2203">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David Vandevoorde wrote:

&gt;<i> Maybe.  However, although concepts are out of C++0x, they are still &quot;on
</I>&gt;<i> the horizon&quot;.  Concepts change the library-ABI very drastically.  I
</I>&gt;<i> suspect that several vendors will therefore consider delaying other
</I>&gt;<i> ABI-breaking transitions to coincide with the implementation of concepts
</I>&gt;<i> (in whatever form they reappear).
</I>
There are of course significant users of C++ that make essentially no
use of the standard library, particularly on embedded systems.

I think the key point here is that we don't really know what's going on.
 Lawrence may be right: implementing C++0x, particularly on the library
side, so breaks everything that maintaining ABI compatibility is just
impossible; you have to recompile your entire world.  Then again, maybe
not.

So, I think we should avoid making changes to the ABI that break
compatibility.  The only harm is &quot;opportunity cost&quot;; we're leaving some
performance on the table.  Not updating our definition of POD isn't
going to make any existing programs slower, or break compatibility.  So,
let's leave it alone.

Then, if we wake up realizing that C++0x is a totally different language
 with a totally incompatible library ABI, we can always make a C++0x
version of the C++ ABI that is smarter about PODs.  At that point, we
can overhaul other aspects of the C++ ABI that are suboptimal as well;
we know, for example, that we ended up with suboptimal bits for virtual
base classes, and I still think that hashing mangled names down to
1024-bit hashes would win, and we've had ideas about implementing
std::type_info, and the decision not to have constructors return &quot;this&quot;
loses on some architectures and so forth...

-- 
Mark Mitchell
CodeSourcery
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">mark at codesourcery.com</A>
(650) 331-3385 x713

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002202.html">[cxx-abi-dev] C++0x POD
</A></li>
	<LI>Next message: <A HREF="002204.html">[cxx-abi-dev] C++0x POD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2203">[ date ]</a>
              <a href="thread.html#2203">[ thread ]</a>
              <a href="subject.html#2203">[ subject ]</a>
              <a href="author.html#2203">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
