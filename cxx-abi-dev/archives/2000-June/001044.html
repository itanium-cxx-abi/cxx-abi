<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> vector new and delete
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20vector%20new%20and%20delete&In-Reply-To=%3C20000628182612N.mitchell%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001043.html">
   <LINK REL="Next"  HREF="001045.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>vector new and delete</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20vector%20new%20and%20delete&In-Reply-To=%3C20000628182612N.mitchell%40codesourcery.com%3E"
       TITLE="vector new and delete">mark at codesourcery.com
       </A><BR>
    <I>Thu Jun 29 01:26:12 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="001043.html">vector new and delete
</A></li>
        <LI>Next message: <A HREF="001045.html">vector new and delete
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1044">[ date ]</a>
              <a href="thread.html#1044">[ thread ]</a>
              <a href="subject.html#1044">[ subject ]</a>
              <a href="author.html#1044">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;&gt;<i> &quot;Jim&quot; == Jim Dehnert &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">dehnert at baalbek.engr.sgi.com</A>&gt; writes:
</I>
    Jim&gt; On looking at the current routines, it strikes me that, since
    Jim&gt; they only do construction and destruction, it makes no sense
    Jim&gt; for the __cxx_vec_ctor to have a NULL constructor, nor for
    Jim&gt; __cxx_vec_dtor to have a NULL destructor, as suggested by the
    Jim&gt; comments.  Am I missing something?

Well, the __cxa_vec_ctor routine will fill in the padding, even if
there is no constructor.  That's useful.

I think we should try to make these routines easy/safe to call --
rather than trying to make them efficient.  Efficient compilers will
inline the body of these routines, effectively.  The point of these
routines is to easily generate code, and to generate code that is
optimized for space.  In those cases, it may be convenient not to have
to test for NULL outside of the routines -- so I think the current
approach is good.

--
Mark Mitchell                   <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">mark at codesourcery.com</A>
CodeSourcery, LLC               <A HREF="http://www.codesourcery.com">http://www.codesourcery.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001043.html">vector new and delete
</A></li>
	<LI>Next message: <A HREF="001045.html">vector new and delete
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1044">[ date ]</a>
              <a href="thread.html#1044">[ thread ]</a>
              <a href="subject.html#1044">[ subject ]</a>
              <a href="author.html#1044">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
