<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Interoperability of RTTI information
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Interoperability%20of%20RTTI%20information&In-Reply-To=%3C39D2123C.8D904BE1%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001216.html">
   <LINK REL="Next"  HREF="001218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Interoperability of RTTI information</H1>
    <B>Nathan Sidwell</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Interoperability%20of%20RTTI%20information&In-Reply-To=%3C39D2123C.8D904BE1%40codesourcery.com%3E"
       TITLE="Interoperability of RTTI information">nathan at codesourcery.com
       </A><BR>
    <I>Wed Sep 27 15:29:00 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="001216.html">Interoperability of RTTI information
</A></li>
        <LI>Next message: <A HREF="001218.html">Interoperability of RTTI information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1217">[ date ]</a>
              <a href="thread.html#1217">[ thread ]</a>
              <a href="subject.html#1217">[ subject ]</a>
              <a href="author.html#1217">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Martin von Loewis wrote:
&gt;<i>
</I>&gt;<i> I can't picture how this solves the problem at hand. Under this
</I>&gt;<i> solution, would it be allowed for implementations to add virtual
</I>&gt;<i> functions to the classes beyond those (currently) specified by the
</I>&gt;<i> standard and the ABI?
</I>yes they can add functions
&gt;<i> 
</I>&gt;<i> If yes, how does it solve the problem of different implementations
</I>&gt;<i> assuming different virtual functions?
</I>The only place these functions are assumed (and must be consistent
between) are 
A	emission of the vtables
B	calling from within the ABI mandated entry points
To achieve this we can emit both the vtables, the virtual functions and
the ABI entry points in an implementation's runtime and ensure
that no object file will
	preempt only one of A or B
	use an A and B different from the rest of the executable
all will be well.

The only place A or B will be emitted will be an implementation's runtime.
If the runtime is dynamically linked the preemption problems do not exist.
If the runtime is statically linked exactly once for an executable image
they don't either.
The only way to have multiple copies of the runtime is to statically link
it into different libraries and then link those libraries together. Is
this a situation which must be addressed, or can it be banned?

nathan
-- 
Dr Nathan Sidwell   ::   <A HREF="http://www.codesourcery.com">http://www.codesourcery.com</A>   ::   CodeSourcery LLC
         'But that's a lie.' - 'Yes it is. What's your point?'
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">nathan at codesourcery.com</A> : <A HREF="http://www.cs.bris.ac.uk/~nathan/">http://www.cs.bris.ac.uk/~nathan/</A> : <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">nathan at acm.org</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001216.html">Interoperability of RTTI information
</A></li>
	<LI>Next message: <A HREF="001218.html">Interoperability of RTTI information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1217">[ date ]</a>
              <a href="thread.html#1217">[ thread ]</a>
              <a href="subject.html#1217">[ subject ]</a>
              <a href="author.html#1217">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
