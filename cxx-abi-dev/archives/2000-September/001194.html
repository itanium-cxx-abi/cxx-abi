<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Unwind API for EH
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Unwind%20API%20for%20EH&In-Reply-To=%3C200009072231.PAA17179%40baalbek.engr.sgi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001191.html">
   <LINK REL="Next"  HREF="001201.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Unwind API for EH</H1>
    <B>Jim Dehnert</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Unwind%20API%20for%20EH&In-Reply-To=%3C200009072231.PAA17179%40baalbek.engr.sgi.com%3E"
       TITLE="Unwind API for EH">dehnert at baalbek.engr.sgi.com
       </A><BR>
    <I>Thu Sep  7 22:31:47 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="001191.html">RTTI data member names
</A></li>
        <LI>Next message: <A HREF="001201.html">Unwind API for EH
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1194">[ date ]</a>
              <a href="thread.html#1194">[ thread ]</a>
              <a href="subject.html#1194">[ subject ]</a>
              <a href="author.html#1194">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK, let's see if we can reach closure on this one.  I'll summarize the
situation...

We have three parties to the landing pad parameter passing:

  PR (personality routine) generates the values, passes them to
  UL (unwind library), which puts them where they are expected by
  LP (landing pad).

Now PR and LP need to know the semantics of the parameters, while
UL and LP need to know what registers they're in (UL only because it
needs to maintain space for them in its context record).  PR and LP are
generated by the same compiler/implementation, while UL may come
from a different implementation.

The current interface definition adds the requirement that PR know which
registers to use as well.

Cary's proposal would remove this additional knowledge in PR (but not
in LP, produced by the same implementation), with the benefit that PR
could be somewhat less target-specific, and the PR-UL interface is
trivially extensible to a different number of parameters (though the
current interface just requires more or fewer _Unwind_SetGR calls).

Personally, I think Cary's interface is marginally cleaner, but not
significantly.  Given how late this is in the process, and the base
psABI impact of a change, (and significant non-concensus,) I think it's
better left as the status quo.  Does anyone have a major problem with
this?

However, the discussion does point out that the LP registers should be
clearly identified in the ABI as the _only_ scratch registers that must
be supported in the context.  Right?

Jim

-	    Jim Dehnert		<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">dehnert at sgi.com</A>
				(650)933-4272


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001191.html">RTTI data member names
</A></li>
	<LI>Next message: <A HREF="001201.html">Unwind API for EH
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1194">[ date ]</a>
              <a href="thread.html#1194">[ thread ]</a>
              <a href="subject.html#1194">[ subject ]</a>
              <a href="author.html#1194">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
