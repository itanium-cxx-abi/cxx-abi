<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Pointer to RTTI information in vtable
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Pointer%20to%20RTTI%20information%20in%20vtable&In-Reply-To=%3C9910271039.ZM241572%40isolde.engr.sgi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000315.html">
   <LINK REL="Next"  HREF="000317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Pointer to RTTI information in vtable</H1>
    <B>Matt Austern</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Pointer%20to%20RTTI%20information%20in%20vtable&In-Reply-To=%3C9910271039.ZM241572%40isolde.engr.sgi.com%3E"
       TITLE="Pointer to RTTI information in vtable">austern at isolde.engr.sgi.com
       </A><BR>
    <I>Wed Oct 27 17:39:22 UTC 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="000315.html">Meeting today -- 21 Oct 99
</A></li>
        <LI>Next message: <A HREF="000317.html">Pointer to RTTI information in vtable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#316">[ date ]</a>
              <a href="thread.html#316">[ thread ]</a>
              <a href="subject.html#316">[ subject ]</a>
              <a href="author.html#316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At the October 14 meeting we decided to include RTTI information as
part of the vtable block, and to include an offset to RTTI information
in the vtable rather than a pointer to RTTI information.  (We decided
on this change so that we would have fewer symbols to resolve at link
time.)

Jim came up with a serious objection at the October 21 meeting:
during construction we need different RTTI information at different
points.  A few of us talked about this at Kona, and my impression is
that Jim's objection is fatal.  We could imagine having base class
typeinfo objects in every vtable block, but (1) this would kill any
performance advantage we'd get by using an offset rather than a
pointer; and (2) we'd lose the ability to use simple pointer identity
as a way of telling whether two typeinfos represent the same type.

I propose that we abandon that decision, and go back to using pointers.
Does everyone agree?

			--Matt


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000315.html">Meeting today -- 21 Oct 99
</A></li>
	<LI>Next message: <A HREF="000317.html">Pointer to RTTI information in vtable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#316">[ date ]</a>
              <a href="thread.html#316">[ thread ]</a>
              <a href="subject.html#316">[ subject ]</a>
              <a href="author.html#316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
