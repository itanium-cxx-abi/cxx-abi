<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Updated mangling specs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Updated%20mangling%20specs&In-Reply-To=%3Cu966vo7fep.fsf%40casey.cygnus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000572.html">
   <LINK REL="Next"  HREF="000623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Updated mangling specs</H1>
    <B>Jason Merrill</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Updated%20mangling%20specs&In-Reply-To=%3Cu966vo7fep.fsf%40casey.cygnus.com%3E"
       TITLE="Updated mangling specs">jason at cygnus.com
       </A><BR>
    <I>Thu Feb 17 02:04:46 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="000572.html">Updated mangling specs
</A></li>
        <LI>Next message: <A HREF="000623.html">Updated mangling specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#610">[ date ]</a>
              <a href="thread.html#610">[ thread ]</a>
              <a href="subject.html#610">[ subject ]</a>
              <a href="author.html#610">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">dehnert at baalbek.engr.sgi.com</A> (Jim Dehnert) writes:

&gt;<i> &gt; &gt; Also, to allow cross-.o file inlining, you need to extend that to
</I>&gt;<i> &gt; &gt; any function (not only those explicitly marked inline.) Strictly
</I>&gt;<i> &gt; &gt; speaking, this is outside the ABI, but unless there are strong
</I>&gt;<i> &gt; &gt; reasons not to, I'd advocate mangling any static data, regardless of
</I>&gt;<i> &gt; &gt; whether the function is tagged inline or not.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; We should mangle the static data for any function that may be inlined;
</I>&gt;<i> &gt; which functions those are depends on the compiler.
</I>&gt;<i> 
</I>&gt;<i> I don't think that we can or should require that the static data
</I>&gt;<i> always have mangled symbols emitted -- that should be the responsibility
</I>&gt;<i> of an implementation that chooses to inline routines not declared
</I>&gt;<i> inline.  However, once the compiler chooses to emit them, it should use
</I>&gt;<i> the defined mangling for inline routines.
</I>
I'm not sure that we're disagreeing here.

If the compiler decides to inline the function in one translation
unit, and not in another, we still need to share statics between
inline and out-of-line copies.  Either we can say that the compiler
should recognize that the function might be inlined in another TU and
mangle the locals accordingly, or we can say that we should always
mangle locals.  The latter might be the only way to deal with inlining
differences between implementations...if we care.

Jason


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000572.html">Updated mangling specs
</A></li>
	<LI>Next message: <A HREF="000623.html">Updated mangling specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#610">[ date ]</a>
              <a href="thread.html#610">[ thread ]</a>
              <a href="subject.html#610">[ subject ]</a>
              <a href="author.html#610">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
