<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> A-25 Bitfields of greater than field size
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20A-25%20Bitfields%20of%20greater%20than%20field%20size&In-Reply-To=%3C200002150044.QAA22572%40baalbek.engr.sgi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000569.html">
   <LINK REL="Next"  HREF="000578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>A-25 Bitfields of greater than field size</H1>
    <B>Jim Dehnert</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20A-25%20Bitfields%20of%20greater%20than%20field%20size&In-Reply-To=%3C200002150044.QAA22572%40baalbek.engr.sgi.com%3E"
       TITLE="A-25 Bitfields of greater than field size">dehnert at baalbek.engr.sgi.com
       </A><BR>
    <I>Tue Feb 15 00:44:42 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="000569.html">A-25 Bitfields of greater than field size
</A></li>
        <LI>Next message: <A HREF="000578.html">A-25 Bitfields of greater than field size
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#575">[ date ]</a>
              <a href="thread.html#575">[ thread ]</a>
              <a href="subject.html#575">[ subject ]</a>
              <a href="author.html#575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: Jason Merrill &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">jason at cygnus.com</A>&gt;
</I>&gt;<i> Date: 10 Feb 2000 12:43:55 -0800
</I>&gt;<i> 
</I>&gt;<i> It seems to me that
</I>&gt;<i> 
</I>&gt;<i> struct A {
</I>&gt;<i>   ...
</I>&gt;<i>   signed char c: 32;
</I>&gt;<i>   ...
</I>&gt;<i> };
</I>&gt;<i> 
</I>&gt;<i> should be treated like
</I>&gt;<i> 
</I>&gt;<i> struct A {
</I>&gt;<i>   ...
</I>&gt;<i>   int i: 32;
</I>&gt;<i>   ...
</I>&gt;<i> };
</I>&gt;<i> 
</I>&gt;<i> except that only the low 8 bits are significant.  This should be true
</I>&gt;<i> whether or not there is actually a 32-bit type on the target.
</I>
In fact, I had been thinking that IF the primary purpose of this feature
is to allow known layout of (something like) an enum type without
knowing how big the compiler will make it, then Jason is right.
Specifically, the allocation of the field _with_ padding should be
based on the largest type that could fit in the specified size.
Where the real data goes (if there's a choice) doesn't much matter
then.  Lowest address would work (and lead to a consistent offset
and/or address).

Jim

-	    Jim Dehnert		<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">dehnert at sgi.com</A>
				(650)933-4272


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000569.html">A-25 Bitfields of greater than field size
</A></li>
	<LI>Next message: <A HREF="000578.html">A-25 Bitfields of greater than field size
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#575">[ date ]</a>
              <a href="thread.html#575">[ thread ]</a>
              <a href="subject.html#575">[ subject ]</a>
              <a href="author.html#575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
