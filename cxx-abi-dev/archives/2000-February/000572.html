<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Updated mangling specs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Updated%20mangling%20specs&In-Reply-To=%3C200002150026.QAA22312%40baalbek.engr.sgi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000563.html">
   <LINK REL="Next"  HREF="000610.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Updated mangling specs</H1>
    <B>Jim Dehnert</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Updated%20mangling%20specs&In-Reply-To=%3C200002150026.QAA22312%40baalbek.engr.sgi.com%3E"
       TITLE="Updated mangling specs">dehnert at baalbek.engr.sgi.com
       </A><BR>
    <I>Tue Feb 15 00:26:55 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="000563.html">Static locals (Was: Updated mangling specs)
</A></li>
        <LI>Next message: <A HREF="000610.html">Updated mangling specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#572">[ date ]</a>
              <a href="thread.html#572">[ thread ]</a>
              <a href="subject.html#572">[ subject ]</a>
              <a href="author.html#572">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: Jason Merrill &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">jason at cygnus.com</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> Christophe de Dinechin &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">ddd at cup.hp.com</A>&gt; writes:
</I>&gt;<i> 
</I>&gt;<i> &gt; One issue that is not covered by your initial proposal is the
</I>&gt;<i> &gt; mangling of static data inside functions. In particular:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; - Mangling of static data in inline functions or templates
</I>&gt;<i> &gt; - Mangling of strings constants in inline functions
</I>&gt;<i> 
</I>&gt;<i> True, though we decided last week that these can be handled by simply
</I>&gt;<i> adding a sequence number to the name of the function.
</I>
Of course, we will have to be very careful about the specification of
this so that everyone gets the same sequence number...  Maybe we should
include a little redundancy (the name as in gcc, a type prefix, etc.)
so that mistakes are clear?  But I guess that still won't produce link
errors...

&gt;<i> &gt; Also, to allow cross-.o file inlining, you need to extend that to
</I>&gt;<i> &gt; any function (not only those explicitly marked inline.) Strictly
</I>&gt;<i> &gt; speaking, this is outside the ABI, but unless there are strong
</I>&gt;<i> &gt; reasons not to, I'd advocate mangling any static data, regardless of
</I>&gt;<i> &gt; whether the function is tagged inline or not.
</I>&gt;<i> 
</I>&gt;<i> We should mangle the static data for any function that may be inlined;
</I>&gt;<i> which functions those are depends on the compiler.
</I>
I don't think that we can or should require that the static data
always have mangled symbols emitted -- that should be the responsibility
of an implementation that chooses to inline routines not declared
inline.  However, once the compiler chooses to emit them, it should use
the defined mangling for inline routines.

Jim

-	    Jim Dehnert		<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">dehnert at sgi.com</A>
				(650)933-4272


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000563.html">Static locals (Was: Updated mangling specs)
</A></li>
	<LI>Next message: <A HREF="000610.html">Updated mangling specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#572">[ date ]</a>
              <a href="thread.html#572">[ thread ]</a>
              <a href="subject.html#572">[ subject ]</a>
              <a href="author.html#572">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
