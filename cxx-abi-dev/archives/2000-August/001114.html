<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Vector construction functions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Vector%20construction%20functions&In-Reply-To=%3C20000806173633E.mitchell%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001113.html">
   <LINK REL="Next"  HREF="001116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Vector construction functions</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Vector%20construction%20functions&In-Reply-To=%3C20000806173633E.mitchell%40codesourcery.com%3E"
       TITLE="Vector construction functions">mark at codesourcery.com
       </A><BR>
    <I>Mon Aug  7 00:36:33 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="001113.html">Minor nit in bitfield layout
</A></li>
        <LI>Next message: <A HREF="001116.html">Updated status pages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1114">[ date ]</a>
              <a href="thread.html#1114">[ thread ]</a>
              <a href="subject.html#1114">[ subject ]</a>
              <a href="author.html#1114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
The ABI doesn't say whether or not the constructor and destructor
parameters may be NULL for many of the functions.  In some cases, it
does say that the pointers may not be NULL.

I believe that a) the spec should explicitly specify this everywhere,
and b) we should allow NULL pointers whenever it makes sense.  These
are convenience routines; why not make them convenient?

For example, why not allow __cxa_vec_new2 to be used with both NULL
constructors and destructors?  The caller should then pass in zero for
the padding size, of course.  There's no reason to try to make these
routines go fast -- they're just their for convenience, and the memory
allocation/function call indirection overhead will swamp a few
conditionals on NULL parameters.

--
Mark Mitchell                   <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">mark at codesourcery.com</A>
CodeSourcery, LLC               <A HREF="http://www.codesourcery.com">http://www.codesourcery.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001113.html">Minor nit in bitfield layout
</A></li>
	<LI>Next message: <A HREF="001116.html">Updated status pages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1114">[ date ]</a>
              <a href="thread.html#1114">[ thread ]</a>
              <a href="subject.html#1114">[ subject ]</a>
              <a href="author.html#1114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
