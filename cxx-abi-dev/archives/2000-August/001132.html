<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> abi::__base_class_info's public_mask
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20abi%3A%3A__base_class_info%27s%20public_mask&In-Reply-To=%3C399D74BD.9ADE5321%40acm.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001129.html">
   <LINK REL="Next"  HREF="001130.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>abi::__base_class_info's public_mask</H1>
    <B>Nathan Sidwell</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20abi%3A%3A__base_class_info%27s%20public_mask&In-Reply-To=%3C399D74BD.9ADE5321%40acm.org%3E"
       TITLE="abi::__base_class_info's public_mask">nathan at acm.org
       </A><BR>
    <I>Fri Aug 18 17:39:09 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="001129.html">abi::__base_class_info's public_mask
</A></li>
        <LI>Next message: <A HREF="001130.html">RTTI data member names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1132">[ date ]</a>
              <a href="thread.html#1132">[ thread ]</a>
              <a href="subject.html#1132">[ subject ]</a>
              <a href="author.html#1132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Jeffrey D. Oldham&quot; wrote:
&gt;<i> 
</I>&gt;<i> \S 2.9.5.6.c of the C++ ABI for IA-64 specifies that
</I>&gt;<i> abi::__base_class_info has a __public_mask enumeration constant
</I>&gt;<i> implying that __vmi_class_type_info has entries for non-public direct
</I>&gt;<i> base classes.  Are these non-public base classes included just for
</I>&gt;<i> completeness or are they necessary to implement dynamic_cast or some
</I>&gt;<i> other algorithm?
</I>They are necessary for dynamic_cast. See [5.2.7]/8 in the standard.
If a class has ambiguous base T, a dynamic cast to T can only succeed
if the original starting object is a base of exactly one of those T's.
Ambiguity is determined before access, so even if one of those T's is
private, it can still affect the cast (by making it fail). Private
bases are not of interest to dynamic cast, if it knows there are
no ambiguous bases (hence the diamond-shaped and repeated-bases flags).

&gt;<i> Am I correct in assuming that the \S 2.9.7 dynamic cast algorithm only
</I>&gt;<i> looks at public base classes?
</I>No.

Sorry, I'm about to nip off on holiday for a week -- any followup
will have to wait.

nathan
-- 
Dr Nathan Sidwell   ::   <A HREF="http://www.codesourcery.com">http://www.codesourcery.com</A>   ::   CodeSourcery LLC
         'But that's a lie.' - 'Yes it is. What's your point?'
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">nathan at codesourcery.com</A> : <A HREF="http://www.cs.bris.ac.uk/~nathan/">http://www.cs.bris.ac.uk/~nathan/</A> : <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">nathan at acm.org</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001129.html">abi::__base_class_info's public_mask
</A></li>
	<LI>Next message: <A HREF="001130.html">RTTI data member names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1132">[ date ]</a>
              <a href="thread.html#1132">[ thread ]</a>
              <a href="subject.html#1132">[ subject ]</a>
              <a href="author.html#1132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
