<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> thread-safe local static variable initialization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20thread-safe%20local%20static%20variable%20initialization&In-Reply-To=%3C199906071922.PAA24226%40kauai.newjersey.sco.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000075.html">
   <LINK REL="Next"  HREF="000077.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>thread-safe local static variable initialization</H1>
    <B>Jonathan Schilling</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20thread-safe%20local%20static%20variable%20initialization&In-Reply-To=%3C199906071922.PAA24226%40kauai.newjersey.sco.com%3E"
       TITLE="thread-safe local static variable initialization">jls at sco.com
       </A><BR>
    <I>Mon Jun  7 19:16:00 UTC 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="000075.html">C++ ABI Summary -- 3 June meeting notes (PDF)
</A></li>
        <LI>Next message: <A HREF="000077.html">thread-safe local static variable initialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76">[ date ]</a>
              <a href="thread.html#76">[ thread ]</a>
              <a href="subject.html#76">[ subject ]</a>
              <a href="author.html#76">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Another issue to add to the C++ ABI &quot;Miscellaneous&quot; list is local static 
variables with dynamic initialization expressions, when multiple threads 
are possible.  The first thread through has to block other threads from
accessing the variable until initialization is complete.  For some 
compilers at least, the generated code tests flags and calls a runtime 
support routine that waits on the flags changing state.  Thus, this can 
be an ABI issue.

(I mentioned this during last week's meeting, and Mike Ball said
something to the effect that this was already fully described by
the language.  But given that the language says nothing about
multithreading to begin with, I'm not sure what he meant.)

Jonathan Schilling		SCO, Inc.		<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">jls at sco.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000075.html">C++ ABI Summary -- 3 June meeting notes (PDF)
</A></li>
	<LI>Next message: <A HREF="000077.html">thread-safe local static variable initialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76">[ date ]</a>
              <a href="thread.html#76">[ thread ]</a>
              <a href="subject.html#76">[ subject ]</a>
              <a href="author.html#76">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
