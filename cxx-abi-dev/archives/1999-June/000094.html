<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> C++ standard library ABI
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20C%2B%2B%20standard%20library%20ABI&In-Reply-To=%3C199906101643.JAA20056%40cllmail.cup.hp.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000093.html">
   <LINK REL="Next"  HREF="000095.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>C++ standard library ABI</H1>
    <B>Christophe de Dinechin</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20C%2B%2B%20standard%20library%20ABI&In-Reply-To=%3C199906101643.JAA20056%40cllmail.cup.hp.com%3E"
       TITLE="C++ standard library ABI">ddd at cup.hp.com
       </A><BR>
    <I>Thu Jun 10 16:43:30 UTC 1999</I>
    <P><UL>
        <LI>Previous message: <A HREF="000093.html">C++ ABI Summary
</A></li>
        <LI>Next message: <A HREF="000095.html">thread-safe local static variable initialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#94">[ date ]</a>
              <a href="thread.html#94">[ thread ]</a>
              <a href="subject.html#94">[ subject ]</a>
              <a href="author.html#94">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My suggestion was actually to separate the 'ABI' from the 'API'.  
That is: try to agree on the support library (all the functions  
beginning with __, typically), but not necessarily on the standard  
library, iostream, and so on. So you could reuse the support library,  
but you would need, say, the &quot;RogueWave&quot; library if you want to run  
code that included it, and the &quot;Sun&quot; library if you want to run code  
that included it.

For various reasons, EH format needs not be identical between  
compilers, but a few other things in EH processing need to if we want  
to pass exceptions around. We can discuss that also.

Regards
Christophe.

&gt;<i> Christophe suggested that the way around the C++ standard library ABI 
</I>&gt;<i> problem is to move the C++ runtime support library (which includes the 
</I>&gt;<i> standard library, as well as compiled code support routines) along with 
</I>&gt;<i> the binaries for the application, when moving from one system to  
</I>another.
&gt;<i>
</I>&gt;<i> This would mean that multiple C++ RTS libraries might be present on a 
</I>&gt;<i> system at once (I guess you could refer to them as one &quot;native&quot; and  
</I>&gt;<i> zero or more &quot;foreign&quot; libraries).
</I>&gt;<i>
</I>&gt;<i> I think that if we have the C++ RTS travel with the C++ generated  
</I>code,
&gt;<i> this might allow us to duck a lot of complicated areas - for  
</I>instance there's
&gt;<i> no need to specify in the ABI exactly what EH tables look like.   
</I>The same
&gt;<i> for some other things like array new/delete, ctor/dtor  
</I>registration, etc.
&gt;<i> Interfaces between compiled code and the RTS in general don't have  
</I>to be
&gt;<i> specified, but rather just compiled code -&gt; compiled code interfaces  
</I>&gt;<i> (the basic object model stuff) and some RTS -&gt; RTS interfaces  
</I>(e.g. memory
&gt;<i> management from multiple systems has to coexist together) and some 
</I>&gt;<i> RTS -&gt; OS interfaces (e.g. iostreams has to work on top of libc, rather 
</I>&gt;<i> than depending on anything within it).
</I>&gt;<i>
</I>&gt;<i> I think you could see this as a quasi-OO setup:  generated code  
</I>has &quot;objects&quot;
&gt;<i> which carry with them &quot;methods&quot; in the RTS.  Some objects would be  
</I>fully
&gt;<i> specified in the ABI, while the rest can be overridden in any  
</I>particular
&gt;<i> implementation.
</I>&gt;<i>
</I>&gt;<i> Jonathan Schilling		SCO, Inc.		<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">jls at sco.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000093.html">C++ ABI Summary
</A></li>
	<LI>Next message: <A HREF="000095.html">thread-safe local static variable initialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#94">[ date ]</a>
              <a href="thread.html#94">[ thread ]</a>
              <a href="subject.html#94">[ subject ]</a>
              <a href="author.html#94">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
