<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Vcall offsets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Vcall%20offsets&In-Reply-To=%3C20000418151242E.mitchell%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000942.html">
   <LINK REL="Next"  HREF="000945.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Vcall offsets</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Vcall%20offsets&In-Reply-To=%3C20000418151242E.mitchell%40codesourcery.com%3E"
       TITLE="Vcall offsets">mark at codesourcery.com
       </A><BR>
    <I>Tue Apr 18 22:12:42 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="000942.html">Vcall offsets
</A></li>
        <LI>Next message: <A HREF="000945.html">Vcall offsets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#943">[ date ]</a>
              <a href="thread.html#943">[ thread ]</a>
              <a href="subject.html#943">[ subject ]</a>
              <a href="author.html#943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
  Once again, I'll take a shot at this one, but please correct my
  misconceptions.

Thanks.

  I agree with your objective, but would come to a different interpretation.
  I would state the rule for what's included as follows:

   1) First, whatever's required by the primary base class.

   2) Next, anything additional (not overrides of the primary base) from
      the class being laid out.

   3) Finally, anything additional from the base classes, in declaration
      preorder for the bases, declaration order for the functions within
      the bases.

  So, I think we need a vcall offset for C::g (2) but not for B::g (3).
  Not a functional difference, but it affects the ordering.

I have no objection to the order you suggest.

  So, applying the above rule, I would get (with the rule number in
  parentheses):

	  B::h  (3)
	  C::g  (2)
	  A::f  (1)

I was actually trying to clarify something different here.  If `f'
appears before `g' in the class declaration, does the vcall offset for
`f' appear before, or after, `g' in the vtable layout?  (Assuming
neither is overridden, so we don't get the complications being
discussed above.)

Thanks,

--
Mark Mitchell                   <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">mark at codesourcery.com</A>
CodeSourcery, LLC               <A HREF="http://www.codesourcery.com">http://www.codesourcery.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000942.html">Vcall offsets
</A></li>
	<LI>Next message: <A HREF="000945.html">Vcall offsets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#943">[ date ]</a>
              <a href="thread.html#943">[ thread ]</a>
              <a href="subject.html#943">[ subject ]</a>
              <a href="author.html#943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
