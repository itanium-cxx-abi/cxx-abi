<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [cxx-abi-dev] mangling for c++17 decomposition declarations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20%5Bcxx-abi-dev%5D%20mangling%20for%20c%2B%2B17%20decomposition%20declarations&In-Reply-To=%3CCAGL0aWcbABsdrxtvsQNPwVBB7H_CFQLzY%2B-TWn9LaBqwx8r3jg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002950.html">
   <LINK REL="Next"  HREF="002952.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[cxx-abi-dev] mangling for c++17 decomposition declarations</H1>
    <B>Richard Smith</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20%5Bcxx-abi-dev%5D%20mangling%20for%20c%2B%2B17%20decomposition%20declarations&In-Reply-To=%3CCAGL0aWcbABsdrxtvsQNPwVBB7H_CFQLzY%2B-TWn9LaBqwx8r3jg%40mail.gmail.com%3E"
       TITLE="[cxx-abi-dev] mangling for c++17 decomposition declarations">richardsmith at google.com
       </A><BR>
    <I>Fri Aug 12 23:59:54 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="002950.html">[cxx-abi-dev] abi_tag mangling
</A></li>
        <LI>Next message: <A HREF="002952.html">[cxx-abi-dev] mangling for c++17 decomposition declarations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2951">[ date ]</a>
              <a href="thread.html#2951">[ thread ]</a>
              <a href="subject.html#2951">[ subject ]</a>
              <a href="author.html#2951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>C++17 decomposition declarations are (surprisingly) permitted at global
scope. They can't be forward-declared nor made inline (yet...), and it
seems likely that the wording probably didn't *mean* to allow them to be
declared as templates, so we don't appear to need a cross-vendor mangling
for them. However, establishing a convention would be useful for demanglers.

For now, I'm mangling global decomposition declarations as:

  &lt;unqualified-name&gt; ::= DC &lt;source-name&gt;* E

... where the &lt;source-name&gt;s are the names of the bindings. (I'm mangling
the bindings in the obvious way, as if they were reference declarations,
but they get a mangled name even at global scope.)

We could get away with mangling only the name of the first binding, but the
extra information seems useful to people looking at the mangled name.

Thoughts? Is it worth specifying this in the ABI?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/cxx-abi-dev/attachments/20160812/5ffbfb29/attachment.html">http://sourcerytools.com/pipermail/cxx-abi-dev/attachments/20160812/5ffbfb29/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002950.html">[cxx-abi-dev] abi_tag mangling
</A></li>
	<LI>Next message: <A HREF="002952.html">[cxx-abi-dev] mangling for c++17 decomposition declarations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2951">[ date ]</a>
              <a href="thread.html#2951">[ thread ]</a>
              <a href="subject.html#2951">[ subject ]</a>
              <a href="author.html#2951">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
