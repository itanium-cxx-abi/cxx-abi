<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [cxx-abi-dev] Decimal Floating Point mangling was(Fw:  [cxx-abi-dev] C++0x: Mangling of rvalue reference type)s
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20%5Bcxx-abi-dev%5D%20Decimal%20Floating%20Point%20mangling%20was%28Fw%3A%20%20%5Bcxx-abi-dev%5D%20C%2B%2B0x%3A%20Mangling%0A%20of%20rvalue%20reference%20type%29s&In-Reply-To=%3COFB1F53097.65BA2027-ON85257338.004F9C98-85257338.005020E5%40ca.ibm.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001926.html">
   <LINK REL="Next"  HREF="001928.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[cxx-abi-dev] Decimal Floating Point mangling was(Fw:  [cxx-abi-dev] C++0x: Mangling of rvalue reference type)s</H1>
    <B>Michael Wong</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20%5Bcxx-abi-dev%5D%20Decimal%20Floating%20Point%20mangling%20was%28Fw%3A%20%20%5Bcxx-abi-dev%5D%20C%2B%2B0x%3A%20Mangling%0A%20of%20rvalue%20reference%20type%29s&In-Reply-To=%3COFB1F53097.65BA2027-ON85257338.004F9C98-85257338.005020E5%40ca.ibm.com%3E"
       TITLE="[cxx-abi-dev] Decimal Floating Point mangling was(Fw:  [cxx-abi-dev] C++0x: Mangling of rvalue reference type)s">michaelw at ca.ibm.com
       </A><BR>
    <I>Wed Aug 15 14:35:13 UTC 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001926.html">[cxx-abi-dev] Decimal Floating Point mangling was(Fw:  [cxx-abi-dev] C++0x: Mangling of rvalue reference type)s
</A></li>
        <LI>Next message: <A HREF="001928.html">Fw: [cxx-abi-dev] Decimal Floating Point mangling was(Fw:  [cxx-abi-dev] C++0x: Mangling of rvalue reference type)s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1927">[ date ]</a>
              <a href="thread.html#1927">[ thread ]</a>
              <a href="subject.html#1927">[ subject ]</a>
              <a href="author.html#1927">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You are correct. It is not C interoperability. I followed the wrong line of
reasoning. The mangling is meant for C++ interoperability for those
compilers that wish to maintain interoperability with each other if they
wish to implement it as a native type. So if EDG (or HP) compilers wish to
read native DFP types generated by GNU compilers, similar to what IBM
compilers will do, then we would need the mangling and settle it to be one
or the other.



Michael Wong
XL C++ Compiler kernel Development
IBM Canada Ltd., C2/KD2/8200/MKM
8200 Warden Avenue
Markham, Ontario  L6G 1C7
W:905-413-3283 F:905-413-4839
Boost test results
<A HREF="http://www-1.ibm.com/support/docview.wss?rs=2239&amp;context=SSJT9L&amp;uid=swg27006911">http://www-1.ibm.com/support/docview.wss?rs=2239&amp;context=SSJT9L&amp;uid=swg27006911</A>

C/C++ Compilers Support Page
<A HREF="http://www.ibm.com/software/awdtools/ccompilers/support/">http://www.ibm.com/software/awdtools/ccompilers/support/</A>
C/C++ Feature Request Interface
<A HREF="http://www.ibm.com/support/docview.wss?uid=swg27005811">http://www.ibm.com/support/docview.wss?uid=swg27005811</A>
XL Fortran Compiler Support Page
<A HREF="http://www.ibm.com/software/awdtools/fortran/xlfortran/support/">http://www.ibm.com/software/awdtools/fortran/xlfortran/support/</A>
XL Fortran Feature Request Interface
<A HREF="http://www.ibm.com/support/docview.wss?uid=swg27005812">http://www.ibm.com/support/docview.wss?uid=swg27005812</A>

Daveed Vandevoorde &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">daveed at edg.com</A>&gt; wrote on 08/15/2007 10:24:43 AM:

&gt;<i>
</I>&gt;<i> On Aug 15, 2007, at 10:04 AM, Michael Wong wrote:
</I>&gt;<i> [...]
</I>&gt;<i> &gt; This is the area where the C++ Std differs from the C std.
</I>&gt;<i> &gt; C++ Std has DFP as a class because of its preference and philosophy of
</I>&gt;<i> &gt; introducing new ideas as classes, not as a builtin type as required
</I>&gt;<i> &gt; by the
</I>&gt;<i> &gt; C Std. However, some C++ compilers will need to start to accept
</I>&gt;<i> &gt; many of
</I>&gt;<i> &gt; these mangling in their ABI inorder to maintain C interoperability. We
</I>&gt;<i> &gt; introduce many C99 concepts too into the C++ ABI even though they
</I>&gt;<i> &gt; are not
</I>&gt;<i> &gt; required from the C++ Std for simialr reasons.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The later would just be encoded as length then name.
</I>&gt;<i> &gt;&gt; Of course this can be handled as &quot;5.1.7 Compression ...
</I>&gt;<i> &gt;&gt; abbreviations for
</I>&gt;<i> &gt;&gt; certain common names&quot;.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; And this form is mentioned:
</I>&gt;<i> &gt;&gt; ... the following catalog of abbreviations of the form &quot;Sx&quot; are used:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Or we just go with what Michael has and documented it well and
</I>&gt;<i> &gt;&gt; point to
</I>&gt;<i> &gt;&gt; the &quot;right&quot; way to do it next time??  (And who to blame.  ;-)
</I>&gt;<i> &gt; The library case will be mangled that way. But for C
</I>&gt;<i> &gt; interoperability it
</I>&gt;<i> &gt; won't work. This is to cover the case for vendors who actually wish to
</I>&gt;<i> &gt; implement them as builtin types.
</I>&gt;<i> &gt; (I would still be happy to accept the blame.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> But C doesn't mangle.  So there is no interoperability issue there.
</I>&gt;<i>
</I>&gt;<i> Furthermore, the C++ class can be (and should be?) made
</I>&gt;<i> representation-compatible with any native decimal floating-point type
</I>&gt;<i> available on the platform.
</I>&gt;<i>
</I>&gt;<i> So I think Dennis is right: No special mangling code is needed here.
</I>&gt;<i> If a C++ compiler has native support, it should just disguise that
</I>&gt;<i> native support as a class type (from the ABI perspective, at least).
</I>&gt;<i>
</I>&gt;<i> No?
</I>&gt;<i>
</I>&gt;<i>    Daveed
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001926.html">[cxx-abi-dev] Decimal Floating Point mangling was(Fw:  [cxx-abi-dev] C++0x: Mangling of rvalue reference type)s
</A></li>
	<LI>Next message: <A HREF="001928.html">Fw: [cxx-abi-dev] Decimal Floating Point mangling was(Fw:  [cxx-abi-dev] C++0x: Mangling of rvalue reference type)s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1927">[ date ]</a>
              <a href="thread.html#1927">[ thread ]</a>
              <a href="subject.html#1927">[ subject ]</a>
              <a href="author.html#1927">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
