<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [cxx-abi-dev] Missing mangling of elaborated type specifiers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20%5Bcxx-abi-dev%5D%20Missing%20mangling%20of%20elaborated%20type%20specifiers&In-Reply-To=%3C27A8FDD2-DFA7-4D79-B4A1-48911BD1AC9D%40apple.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002699.html">
   <LINK REL="Next"  HREF="002701.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[cxx-abi-dev] Missing mangling of elaborated type specifiers</H1>
    <B>John McCall</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20%5Bcxx-abi-dev%5D%20Missing%20mangling%20of%20elaborated%20type%20specifiers&In-Reply-To=%3C27A8FDD2-DFA7-4D79-B4A1-48911BD1AC9D%40apple.com%3E"
       TITLE="[cxx-abi-dev] Missing mangling of elaborated type specifiers">rjmccall at apple.com
       </A><BR>
    <I>Wed Mar 26 19:54:40 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="002699.html">[cxx-abi-dev] Missing mangling of elaborated type specifiers
</A></li>
        <LI>Next message: <A HREF="002701.html">[cxx-abi-dev] Missing mangling of elaborated type specifiers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2700">[ date ]</a>
              <a href="thread.html#2700">[ thread ]</a>
              <a href="subject.html#2700">[ subject ]</a>
              <a href="author.html#2700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mar 26, 2014, at 12:23 PM, Richard Smith &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">richardsmith at google.com</A>&gt; wrote:
&gt;<i> On 26 March 2014 11:59, John McCall &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">rjmccall at apple.com</A>&gt; wrote:
</I>&gt;<i> Sorry, what?  Why are any of these the same function template under the ODR?
</I>&gt;<i>   template &lt;class T&gt; auto f() -&gt; enum T::type;
</I>&gt;<i>   template &lt;class T&gt; auto f() -&gt; struct T::type;
</I>&gt;<i>   template &lt;class T&gt; auto f() -&gt; typename T::type;
</I>&gt;<i> Template argument deduction can distinguish the first two (and drop them in favor of the third for typedef members), and the third can be introduced later or in a different translation unit.
</I>&gt;<i> 
</I>&gt;<i> The first two are not the same function template. But that doesn't matter, as far as I can see -- we don't have mangled names for function templates, we have mangled names for function template specializations, and there cannot exist template arguments for which substitution into the first two function templates both succeed.
</I>
Ah, good point.  Still, let&#8217;s not make too many unnecessary assumptions here &#8212; there are certainly plausible paths forward for both the language (function template templates parameters) and tooling (indexers, ODR checkers) that would benefit from being able to distinguish entities along ODR lines.  And this is C++, so there may be some evil way to make this happen that we simply haven&#8217;t thought of yet.  The fewer pitfalls we make for ourselves, the better.

&gt;<i> I don&#8217;t think distinguishing struct and class is worth it.
</I>&gt;<i> 
</I>&gt;<i> I agree that the benefit of a demangler being able to say whether it's got a class or struct is marginal. Maybe drop the 'TC' mangling and keep the other three?
</I>
Sounds good to me.

John.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/cxx-abi-dev/attachments/20140326/86272e6a/attachment.html">http://sourcerytools.com/pipermail/cxx-abi-dev/attachments/20140326/86272e6a/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002699.html">[cxx-abi-dev] Missing mangling of elaborated type specifiers
</A></li>
	<LI>Next message: <A HREF="002701.html">[cxx-abi-dev] Missing mangling of elaborated type specifiers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2700">[ date ]</a>
              <a href="thread.html#2700">[ thread ]</a>
              <a href="subject.html#2700">[ subject ]</a>
              <a href="author.html#2700">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
