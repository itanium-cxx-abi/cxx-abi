<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [cxx-abi-dev] Mangling of generic lambda
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20%5Bcxx-abi-dev%5D%20Mangling%20of%20generic%20lambda&In-Reply-To=%3CCAGL0aWeYsL%2BB00t2TSFFGug9shHOS-dFGwvU1gFjWeSD7meUXg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003020.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[cxx-abi-dev] Mangling of generic lambda</H1>
    <B>Richard Smith</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20%5Bcxx-abi-dev%5D%20Mangling%20of%20generic%20lambda&In-Reply-To=%3CCAGL0aWeYsL%2BB00t2TSFFGug9shHOS-dFGwvU1gFjWeSD7meUXg%40mail.gmail.com%3E"
       TITLE="[cxx-abi-dev] Mangling of generic lambda">richardsmith at googlers.com
       </A><BR>
    <I>Fri Dec  9 16:46:06 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003020.html">[cxx-abi-dev] Mangling of generic lambda
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3018">[ date ]</a>
              <a href="thread.html#3018">[ thread ]</a>
              <a href="subject.html#3018">[ subject ]</a>
              <a href="author.html#3018">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9 Dec 2016 8:14 am, &quot;Nathan Sidwell&quot; &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">nathan at acm.org</A>&gt; wrote:

On 12/09/2016 09:29 AM, Jason Merrill wrote:

&gt;<i> On Thu, Dec 8, 2016 at 5:31 PM, Richard Smith &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">richardsmith at googlers.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>
Of note is the repeated suggestion to allow explicit template parameter
&gt;&gt;<i> lists in lambdas (at this point, I'd give this a very solid chance of
</I>&gt;&gt;<i> being
</I>&gt;&gt;<i> part of C++20):
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   auto lambda = []&lt;typename T&gt;(T a, T b) {};
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We would presumably need to mangle that as UlT_T_E even with the Da
</I>&gt;&gt;<i> suggestion, so it seems that demanglers are just going to need to cope
</I>&gt;&gt;<i> with
</I>&gt;&gt;<i> Ul introducing a new template parameter scope.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Makes sense.
</I>&gt;<i>
</I>
I think the ABI doc should at least mention that uses of 'auto' in a
generic lambda's parameter list are mangled as the artificial template
they're represented as (as that seems to be the intent)

Anyway, how do we expect the above example to be mangled as?  Something
like 'UlI...ET_T_E_'?  I.e. are the explicit template args in that
suggestion distinguished from synthesized 'auto' ones?  It'd be unfortunate
if the mangling we have right now blocked something needed later.


I would expect just UlT_T_E (modulo substitutions), as we don't generally
mangle template parameter lists, just template argument lists, and we don't
have a template argument list here. (But it doesn't really matter what we
put between the Ul and the E, since we number closure types in the event of
collisions anyway.)


nathan
-- 
Nathan Sidwell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/cxx-abi-dev/attachments/20161209/fca2f1cd/attachment.html">http://sourcerytools.com/pipermail/cxx-abi-dev/attachments/20161209/fca2f1cd/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003020.html">[cxx-abi-dev] Mangling of generic lambda
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3018">[ date ]</a>
              <a href="thread.html#3018">[ thread ]</a>
              <a href="subject.html#3018">[ subject ]</a>
              <a href="author.html#3018">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
