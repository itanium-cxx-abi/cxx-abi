<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> ia64 vtable entries (was: C implementations of the C++ ABI)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20ia64%20vtable%20entries%20%28was%3A%20C%20implementations%20of%20the%20C%2B%2B%20ABI%29&In-Reply-To=%3C200003020050.QAA39542%40baalbek.engr.sgi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000685.html">
   <LINK REL="Next"  HREF="000703.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>ia64 vtable entries (was: C implementations of the C++ ABI)</H1>
    <B>Jim Dehnert</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20ia64%20vtable%20entries%20%28was%3A%20C%20implementations%20of%20the%20C%2B%2B%20ABI%29&In-Reply-To=%3C200003020050.QAA39542%40baalbek.engr.sgi.com%3E"
       TITLE="ia64 vtable entries (was: C implementations of the C++ ABI)">dehnert at baalbek.engr.sgi.com
       </A><BR>
    <I>Thu Mar  2 00:50:24 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="000685.html">ia64 vtable entries (was: C implementations of the C++ ABI)
</A></li>
        <LI>Next message: <A HREF="000703.html">ia64 vtable entries (was: C implementations of the C++ ABI)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#688">[ date ]</a>
              <a href="thread.html#688">[ thread ]</a>
              <a href="subject.html#688">[ subject ]</a>
              <a href="author.html#688">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">rth at cygnus.com</A>  Wed Mar  1 15:05:46 2000
</I>&gt;<i> 
</I>&gt;<i> On Wed, Mar 01, 2000 at 12:53:07PM -0800, Jim Dehnert wrote:
</I>&gt;<i> &gt; The dynamic linker should handle them exactly like it does
</I>&gt;<i> &gt; the .IA_64.pltoff relocations -- the semantics is identical.
</I>&gt;<i> &gt; So they don't need to be differentiated.
</I>&gt;<i> 
</I>&gt;<i> No, not exactly like.  When we're doing lazy binding the
</I>&gt;<i> .IA_64.pltoff entries are initially only adjusted for the
</I>&gt;<i> load address of the dso.
</I>&gt;<i> 
</I>&gt;<i> So you're planning on treating .rel.IA_64.pltoff specially.
</I>&gt;<i> 
</I>&gt;<i> Which means there ought to be additional guarantees by the
</I>&gt;<i> IA-64 ABI that are not provided by the generic ELF ABI.
</I>&gt;<i> Namely, that .rel.IA_64.pltoff is not included in DT_RELA/DT_RELASZ.
</I>
OK, now I understand your issue, at least.  But the vtable might
actually benefit as much or more from lazy binding.  This does raise
another issue, though.  We found on MIPS that lazy binding had
occasional obnoxious interactions with optimization, e.g. when the
optimizer moves the load of the lazy-bound function pointer out of a
loop, and ends up calling rld (ld.so) every iteration.  I would not
object to having two versions of the relocation that allow or don't
allow lazy binding, but that seems orthogonal to the issue at hand.

Jim

-	    Jim Dehnert		<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">dehnert at sgi.com</A>
				(650)933-4272


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000685.html">ia64 vtable entries (was: C implementations of the C++ ABI)
</A></li>
	<LI>Next message: <A HREF="000703.html">ia64 vtable entries (was: C implementations of the C++ ABI)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#688">[ date ]</a>
              <a href="thread.html#688">[ thread ]</a>
              <a href="subject.html#688">[ subject ]</a>
              <a href="author.html#688">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
