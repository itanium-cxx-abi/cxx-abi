<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;trying&nbsp;to&nbsp;mangle&nbsp;a&nbsp;vendor&nbsp;extension&nbsp;that&nbsp;encodes&nbsp;an&nbsp;expression&nbsp;which&nbsp;applies&nbsp;to&nbsp;function&nbsp;overload&nbsp;candidates,&nbsp;with&nbsp;the&nbsp;goal&nbsp;that&nbsp;a&nbsp;user&nbsp;running&nbsp;the&nbsp;demangler&nbsp;would&nbsp;see&nbsp;their&nbsp;expression&nbsp;demangled.&nbsp;While&nbsp;there&nbsp;are&nbsp;various&nbsp;vendor&nbsp;extension&nbsp;points,&nbsp;none&nbsp;of&nbsp;them&nbsp;allow&nbsp;me&nbsp;to&nbsp;go&nbsp;into&nbsp;encoding&nbsp;an&nbsp;expression,&nbsp;unless&nbsp;I&nbsp;stick&nbsp;a&nbsp;stray&nbsp;&quot;decltype&quot;&nbsp;in&nbsp;there,&nbsp;or&nbsp;similar&nbsp;(expression&nbsp;in&nbsp;a&nbsp;template&nbsp;argument&nbsp;that&nbsp;doesn&#39;t&nbsp;actually&nbsp;exist,&nbsp;etc.).&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;vendor&nbsp;extension&nbsp;is&nbsp;described&nbsp;in&nbsp;full&nbsp;here:Â &lt;a&nbsp;href=&quot;http://clang.llvm.org/docs/LanguageExtensions.html#controlling-overload-resolution&quot;&gt;http://clang.llvm.org/docs/LanguageExtensions.html#controlling-overload-resolution&lt;/a&gt;&nbsp;.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;don&#39;t&nbsp;think&nbsp;I&nbsp;can&nbsp;do&nbsp;it&nbsp;without&nbsp;an&nbsp;extension&nbsp;to&nbsp;the&nbsp;mangling&nbsp;rules.&nbsp;As&nbsp;a&nbsp;strawman&nbsp;proposal,&nbsp;I&nbsp;suggest&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;type&gt;&nbsp;::=&nbsp;Ue&nbsp;&lt;expression&gt;&nbsp;E&nbsp;#&nbsp;vendor&nbsp;extended&nbsp;type&nbsp;qualifier&lt;div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;shouldn&#39;t&nbsp;be&nbsp;ambiguous&nbsp;to&nbsp;decode&nbsp;because&nbsp;the&nbsp;first&nbsp;byte&nbsp;of&nbsp;a&nbsp;&lt;source-name&gt;&nbsp;can&#39;t&nbsp;be&nbsp;an&nbsp;&#39;e&#39;,&nbsp;it&nbsp;has&nbsp;to&nbsp;be&nbsp;a&nbsp;&lt;positive&nbsp;length&nbsp;number&gt;,&nbsp;and&nbsp;there&nbsp;aren&#39;t&nbsp;other&nbsp;rules&nbsp;for&nbsp;manglings&nbsp;starting&nbsp;with&nbsp;&#39;U&#39;&nbsp;in&nbsp;the&nbsp;position&nbsp;where&nbsp;a&nbsp;&lt;type&gt;&nbsp;can&nbsp;go.&nbsp;It&nbsp;will&nbsp;bust&nbsp;today&#39;s&nbsp;demanglers,&nbsp;but&nbsp;only&nbsp;for&nbsp;users&nbsp;of&nbsp;my&nbsp;new&nbsp;extension&nbsp;and&nbsp;we&nbsp;already&nbsp;have&nbsp;that&nbsp;problem.&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;has&nbsp;the&nbsp;slight&nbsp;bug&nbsp;that&nbsp;it&nbsp;gets&nbsp;placed&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;&lt;function-type&gt;&nbsp;when&nbsp;it&nbsp;isn&#39;t&nbsp;actually&nbsp;part&nbsp;of&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;function&nbsp;at&nbsp;the&nbsp;language&nbsp;level,&nbsp;but&nbsp;as&nbsp;far&nbsp;as&nbsp;I&nbsp;can&nbsp;tell&nbsp;it&nbsp;behaves&nbsp;exactly&nbsp;how&nbsp;I&nbsp;want.&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Nick&lt;/div&gt;&lt;/div&gt;<br>

</tt>
