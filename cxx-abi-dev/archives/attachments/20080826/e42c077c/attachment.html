<tt>
&lt;html&gt;&lt;body&gt;<br>
&lt;p&gt;Thanks&nbsp;all&nbsp;for&nbsp;the&nbsp;discussion.&nbsp;This&nbsp;case&nbsp;was&nbsp;taken&nbsp;pretty&nbsp;much&nbsp;from&nbsp;the&nbsp;C++&nbsp;ABI&nbsp;spec.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;it&nbsp;sounds&nbsp;like&nbsp;the&nbsp;spec&nbsp;is&nbsp;OK,&nbsp;in&nbsp;that&nbsp;a&nbsp;valid&nbsp;variant&nbsp;of&nbsp;the&nbsp;case&nbsp;as&nbsp;Dennis&nbsp;Handly&nbsp;and&nbsp;John&nbsp;Spicer&nbsp;shown&nbsp;below,&nbsp;should&nbsp;be&nbsp;mangled&nbsp;as:&lt;br&gt;<br>
&lt;tt&gt;_ZN2CBIL_Z7IsEmptyEE1xE&lt;/tt&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;tt&gt;SO&nbsp;we&nbsp;have:&lt;/tt&gt;&lt;br&gt;<br>
&lt;tt&gt;1.&nbsp;GCC&nbsp;4.1.2&nbsp;is&nbsp;in&nbsp;error&nbsp;by&nbsp;missing&nbsp;the&nbsp;_&lt;/tt&gt;&lt;br&gt;<br>
&lt;tt&gt;2.&nbsp;the&nbsp;rest&nbsp;of&nbsp;us&nbsp;are&nbsp;in&nbsp;error&nbsp;by&nbsp;adding&nbsp;the&nbsp;X&nbsp;...E&lt;/tt&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Michael&nbsp;Wong&lt;br&gt;<br>
XL&nbsp;C++&nbsp;Compiler&nbsp;kernel&nbsp;Development&lt;br&gt;<br>
IBM&nbsp;Canada&nbsp;Ltd.,&nbsp;C2/KD2/8200/MKM&lt;br&gt;<br>
8200&nbsp;Warden&nbsp;Avenue&lt;br&gt;<br>
Markham,&nbsp;Ontario&nbsp;&nbsp;L6G&nbsp;1C7&lt;br&gt;<br>
W:905-413-3283&nbsp;F:905-413-4839&lt;br&gt;<br>
Boost&nbsp;test&nbsp;results&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www-1.ibm.com/support/docview.wss?rs=2239&amp;context=SSJT9L&amp;uid=swg27006911&quot;&gt;http://www-1.ibm.com/support/docview.wss?rs=2239&amp;context=SSJT9L&amp;uid=swg27006911&lt;/a&gt;&lt;br&gt;<br>
C/C++&nbsp;Compilers&nbsp;Support&nbsp;Page&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.ibm.com/software/awdtools/ccompilers/support/&quot;&gt;http://www.ibm.com/software/awdtools/ccompilers/support/&lt;/a&gt;&lt;br&gt;<br>
C/C++&nbsp;Feature&nbsp;Request&nbsp;Interface&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.ibm.com/support/docview.wss?uid=swg27005811&quot;&gt;http://www.ibm.com/support/docview.wss?uid=swg27005811&lt;/a&gt;&lt;br&gt;<br>
XL&nbsp;Fortran&nbsp;Compiler&nbsp;Support&nbsp;Page&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.ibm.com/software/awdtools/fortran/xlfortran/support/&quot;&gt;http://www.ibm.com/software/awdtools/fortran/xlfortran/support/&lt;/a&gt;&lt;br&gt;<br>
XL&nbsp;Fortran&nbsp;Feature&nbsp;Request&nbsp;Interface&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.ibm.com/support/docview.wss?uid=swg27005812&quot;&gt;http://www.ibm.com/support/docview.wss?uid=swg27005812&lt;/a&gt;&lt;br&gt;<br>
&lt;img&nbsp;width=&quot;16&quot;&nbsp;height=&quot;16&quot;&nbsp;src=&quot;cid:1__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;Inactive&nbsp;hide&nbsp;details&nbsp;for&nbsp;Re:&nbsp;[cxx-abi-dev]&nbsp;Possibly&nbsp;ambiguous&nbsp;mangling&nbsp;of&nbsp;extern&nbsp;&quot;C&quot;&nbsp;functions&quot;&gt;Re:&nbsp;[cxx-abi-dev]&nbsp;Possibly&nbsp;ambiguous&nbsp;mangling&nbsp;of&nbsp;extern&nbsp;&quot;C&quot;&nbsp;functions&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
<br>
&lt;table&nbsp;width=&quot;100%&quot;&nbsp;border=&quot;0&quot;&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&gt;<br>
&lt;tr&nbsp;valign=&quot;top&quot;&gt;&lt;td&nbsp;style=&quot;background-image:url(cid:2__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com);&nbsp;background-repeat:&nbsp;no-repeat;&nbsp;&quot;&nbsp;width=&quot;1%&quot;&nbsp;valign=&quot;middle&quot;&gt;&lt;img&nbsp;width=&quot;80&quot;&nbsp;height=&quot;1&quot;&nbsp;src=&quot;cid:3__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;img&nbsp;src=&quot;cid:4__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;width=&quot;80&quot;&nbsp;height=&quot;1&quot;&gt;&lt;/td&gt;&lt;td&nbsp;width=&quot;100%&quot;&nbsp;valign=&quot;middle&quot;&gt;&lt;img&nbsp;width=&quot;1&quot;&nbsp;height=&quot;1&quot;&nbsp;src=&quot;cid:3__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;<br>
<br>
&lt;table&nbsp;width=&quot;100%&quot;&nbsp;border=&quot;0&quot;&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&gt;<br>
&lt;tr&nbsp;valign=&quot;top&quot;&gt;&lt;td&nbsp;width=&quot;100%&quot;&gt;&lt;b&gt;Re:&nbsp;[cxx-abi-dev]&nbsp;Possibly&nbsp;ambiguous&nbsp;mangling&nbsp;of&nbsp;extern&nbsp;&quot;C&quot;&nbsp;functions&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;<br>
&lt;/table&gt;<br>
<br>
&lt;table&nbsp;id=&quot;tmpdisplaysendto&quot;&nbsp;width=&quot;100%&quot;&nbsp;border=&quot;0&quot;&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&gt;<br>
&lt;tr&nbsp;valign=&quot;top&quot;&gt;&lt;td&nbsp;width=&quot;1%&quot;&nbsp;valign=&quot;middle&quot;&gt;&lt;img&nbsp;width=&quot;105&quot;&nbsp;height=&quot;1&quot;&nbsp;src=&quot;cid:3__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;b&gt;&lt;font&nbsp;color=&quot;#E26200&quot;&gt;John&nbsp;H.&nbsp;Spicer&nbsp;&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&lt;td&nbsp;width=&quot;1%&quot;&nbsp;valign=&quot;middle&quot;&gt;&lt;img&nbsp;width=&quot;18&quot;&nbsp;height=&quot;1&quot;&nbsp;src=&quot;cid:3__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#929292&quot;&gt;to:&lt;/font&gt;&lt;/td&gt;&lt;td&nbsp;width=&quot;100%&quot;&nbsp;valign=&quot;middle&quot;&gt;&lt;img&nbsp;width=&quot;1&quot;&nbsp;height=&quot;1&quot;&nbsp;src=&quot;cid:3__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;<br>
Mark&nbsp;Mitchell&lt;/td&gt;&lt;td&nbsp;width=&quot;1%&quot;&nbsp;valign=&quot;middle&quot;&gt;&lt;img&nbsp;width=&quot;141&quot;&nbsp;height=&quot;1&quot;&nbsp;src=&quot;cid:3__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;div&nbsp;align=&quot;right&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;08/20/2008&nbsp;09:11&nbsp;AM&lt;/font&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;<br>
&lt;/table&gt;<br>
<br>
&lt;table&nbsp;width=&quot;100%&quot;&nbsp;border=&quot;0&quot;&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&gt;<br>
&lt;tr&nbsp;valign=&quot;top&quot;&gt;&lt;td&nbsp;width=&quot;100%&quot;&nbsp;valign=&quot;middle&quot;&gt;&lt;img&nbsp;width=&quot;1&quot;&nbsp;height=&quot;1&quot;&nbsp;src=&quot;cid:3__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;<br>
<br>
&lt;table&nbsp;width=&quot;100%&quot;&nbsp;border=&quot;0&quot;&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&gt;<br>
&lt;tr&nbsp;valign=&quot;top&quot;&gt;&lt;td&nbsp;width=&quot;1%&quot;&nbsp;valign=&quot;middle&quot;&gt;&lt;img&nbsp;width=&quot;17&quot;&nbsp;height=&quot;1&quot;&nbsp;src=&quot;cid:3__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;color=&quot;#929292&quot;&gt;Cc:&lt;/font&gt;&lt;/td&gt;&lt;td&nbsp;width=&quot;100%&quot;&nbsp;valign=&quot;middle&quot;&gt;&lt;img&nbsp;width=&quot;1&quot;&nbsp;height=&quot;1&quot;&nbsp;src=&quot;cid:3__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&gt;David&nbsp;Vandevoorde,&nbsp;Michael&nbsp;Wong,&nbsp;cxx-abi-dev&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;<br>
&lt;/table&gt;<br>
&lt;/td&gt;&lt;td&nbsp;width=&quot;0%&quot;&nbsp;valign=&quot;middle&quot;&gt;&lt;img&nbsp;width=&quot;1&quot;&nbsp;height=&quot;1&quot;&nbsp;src=&quot;cid:3__=0ABBFE22DFE680B28f9e8a93df938@ca.ibm.com&quot;&nbsp;border=&quot;0&quot;&nbsp;alt=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;/td&gt;&lt;/tr&gt;<br>
&lt;/table&gt;<br>
&lt;/td&gt;&lt;/tr&gt;<br>
&lt;/table&gt;<br>
&lt;br&gt;<br>
&lt;hr&nbsp;width=&quot;2112&quot;&nbsp;size=&quot;2&quot;&nbsp;align=&quot;left&quot;&nbsp;style=&quot;color:#B4BFCB;&nbsp;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;On&nbsp;Aug&nbsp;20,&nbsp;2008,&nbsp;at&nbsp;4:19&nbsp;AM,&nbsp;Mark&nbsp;Mitchell&nbsp;wrote:&lt;/font&gt;&lt;br&gt;<br>
<br>
&lt;ul&gt;<br>
&lt;ul&gt;&lt;font&nbsp;size=&quot;4&quot;&gt;David&nbsp;Vandevoorde&nbsp;wrote:&lt;br&gt;<br>
&lt;/font&gt;<br>
&lt;ul&gt;<br>
&lt;ul&gt;<br>
&lt;ul&gt;<br>
&lt;ul&gt;&lt;font&nbsp;size=&quot;4&quot;&gt;extern&nbsp;&quot;C&quot;&nbsp;bool&nbsp;IsEmpty(char&nbsp;*);&nbsp;//&nbsp;(un)mangled&nbsp;as&nbsp;IsEmpty&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;template&lt;bool&nbsp;(&amp;)(char&nbsp;*)&gt;&nbsp;struct&nbsp;CB&nbsp;{&nbsp;static&nbsp;int&nbsp;x;&nbsp;};&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;//&nbsp;CB&lt;IsEmpty&gt;&nbsp;is&nbsp;mangled&nbsp;as&nbsp;&quot;2CBIL_Z7IsEmptyEE&quot;&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;int&nbsp;*p&nbsp;=&nbsp;&amp;CB&lt;IsEmpty&gt;::x;&lt;/font&gt;&lt;/ul&gt;<br>
&lt;/ul&gt;<br>
&lt;/ul&gt;<br>
&lt;/ul&gt;<br>
<br>
&lt;ul&gt;<br>
&lt;ul&gt;&lt;font&nbsp;size=&quot;4&quot;&gt;Normally,&nbsp;we&nbsp;issue&nbsp;the&nbsp;following&nbsp;error&nbsp;on&nbsp;that&nbsp;example:&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;&quot;t.c&quot;,&nbsp;line&nbsp;4:&nbsp;error:&nbsp;a&nbsp;reference&nbsp;of&nbsp;type&nbsp;&quot;bool&nbsp;(&amp;)(char&nbsp;*)&quot;&nbsp;(not&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const-qualified)&nbsp;cannot&nbsp;be&nbsp;initialized&nbsp;with&nbsp;a&nbsp;value&nbsp;of&nbsp;type&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;bool&nbsp;(char&nbsp;*)&nbsp;C&quot;&lt;/font&gt;&lt;/ul&gt;<br>
&lt;/ul&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;&lt;br&gt;<br>
Yes,&nbsp;that's&nbsp;the&nbsp;right&nbsp;error.&nbsp;&nbsp;G++&nbsp;has&nbsp;never&nbsp;implemented&nbsp;extern&nbsp;&quot;C&quot;&nbsp;function&nbsp;*types*,&nbsp;so&nbsp;doesn't&nbsp;issue&nbsp;this&nbsp;kind&nbsp;of&nbsp;error.&nbsp;&nbsp;There&nbsp;are&nbsp;extern&nbsp;&quot;C&quot;&nbsp;functions,&nbsp;but&nbsp;the&nbsp;linkage&nbsp;isn't&nbsp;part&nbsp;of&nbsp;the&nbsp;type&nbsp;per&nbsp;se.&nbsp;&nbsp;This&nbsp;is&nbsp;a&nbsp;known&nbsp;bug.&lt;br&gt;<br>
&lt;br&gt;<br>
So,&nbsp;now&nbsp;we're&nbsp;talking&nbsp;about&nbsp;mangling&nbsp;for&nbsp;an&nbsp;invalid&nbsp;C++&nbsp;program,&nbsp;which&nbsp;is&nbsp;outside&nbsp;the&nbsp;scope&nbsp;of&nbsp;the&nbsp;ABI.&lt;/font&gt;&lt;/ul&gt;<br>
&lt;/ul&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;There&nbsp;is&nbsp;a&nbsp;well-formed&nbsp;varient&nbsp;of&nbsp;this&nbsp;case&nbsp;though:&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;extern&nbsp;&quot;C&quot;&nbsp;{&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;bool&nbsp;IsEmpty(char&nbsp;*);&nbsp;//&nbsp;(un)mangled&nbsp;as&nbsp;IsEmpty&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;typedef&nbsp;bool&nbsp;(&amp;ref_func)(char&nbsp;*);&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;}&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;template&lt;ref_func&gt;&nbsp;struct&nbsp;CB&nbsp;{&nbsp;static&nbsp;int&nbsp;x;&nbsp;};&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;int&nbsp;*p&nbsp;=&nbsp;&amp;CB&lt;IsEmpty&gt;::x;&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;John&nbsp;Spicer&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;4&quot;&gt;Edison&nbsp;Design&nbsp;Group&lt;/font&gt;&lt;br&gt;<br>
&lt;/body&gt;&lt;/html&gt;<br>

</tt>
