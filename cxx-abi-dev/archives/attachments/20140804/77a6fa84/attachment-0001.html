<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Aug&nbsp;3,&nbsp;2014,&nbsp;at&nbsp;11:31&nbsp;PM,&nbsp;Richard&nbsp;Smith&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:richardsmith@google.com&quot;&gt;richardsmith@google.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Alias&nbsp;templates&nbsp;allow&nbsp;the&nbsp;production&nbsp;of&nbsp;new&nbsp;forms&nbsp;of&nbsp;sizeof...&nbsp;for&nbsp;which&nbsp;we&nbsp;have&nbsp;no&nbsp;specified&nbsp;mangling.&nbsp;Example:&lt;div&gt;&lt;pre&nbsp;style=&quot;&quot;&gt;struct&nbsp;A&nbsp;{<br>
&nbsp;&nbsp;template&lt;typename...T&gt;&nbsp;using&nbsp;N&nbsp;=&nbsp;int[sizeof...(T)];<br>
&nbsp;&nbsp;template&lt;typename...A,&nbsp;typename&nbsp;B,&nbsp;typename...C&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;f(N&lt;A...,&nbsp;B,&nbsp;C...&gt;&nbsp;&amp;,&nbsp;B,&nbsp;C...);<br>
};<br>
void&nbsp;g(A&nbsp;a)&nbsp;{&nbsp;int&nbsp;arr[6];&nbsp;a.f&lt;int,&nbsp;int&gt;(arr,&nbsp;1,&nbsp;2,&nbsp;3,&nbsp;4);&nbsp;}&lt;/pre&gt;No&nbsp;implementation&nbsp;I&nbsp;have&nbsp;access&nbsp;to&nbsp;produces&nbsp;anything&nbsp;reasonable&nbsp;here:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Clang&nbsp;currently&nbsp;produces&nbsp;a&nbsp;bogus&nbsp;RA3_i&nbsp;mangling&nbsp;for&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;first&nbsp;parameter.&lt;/div&gt;<br>
&lt;div&gt;GCC&nbsp;produces&nbsp;&lt;span&nbsp;style=&quot;&quot;&gt;RAstDpT__i,&nbsp;that&nbsp;is,&nbsp;sizeof-type&nbsp;applied&nbsp;to&nbsp;pack&nbsp;expansion&nbsp;applied&nbsp;to&nbsp;template-parameter-0,&nbsp;which&nbsp;seems&nbsp;to&nbsp;be&nbsp;exposing&nbsp;a&nbsp;detail&nbsp;of&nbsp;their&nbsp;internal&nbsp;representation,&nbsp;and&nbsp;is&nbsp;in&nbsp;any&nbsp;case&nbsp;wrong&nbsp;since&nbsp;T_&nbsp;is&nbsp;not&nbsp;enough&nbsp;to&nbsp;specify&nbsp;which&nbsp;packs&nbsp;are&nbsp;relevant.&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;EDG&nbsp;rejects.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;Also&nbsp;of&nbsp;note:&nbsp;through&nbsp;alias&nbsp;templates,&nbsp;arbitrary&nbsp;template&nbsp;argument&nbsp;expressions&nbsp;can&nbsp;be&nbsp;incorporated&nbsp;into&nbsp;such&nbsp;a&nbsp;sizeof...&nbsp;expression&nbsp;(as&nbsp;can&nbsp;an&nbsp;implicit&nbsp;test&nbsp;that&nbsp;multiple&nbsp;packs&nbsp;are&nbsp;the&nbsp;same&nbsp;length),&nbsp;so&nbsp;it's&nbsp;not&nbsp;sufficient&nbsp;to&nbsp;merely&nbsp;encode&nbsp;a&nbsp;sequence&nbsp;of&nbsp;packs&nbsp;whose&nbsp;sizes&nbsp;should&nbsp;be&nbsp;added,&nbsp;along&nbsp;with&nbsp;an&nbsp;additional&nbsp;constant&nbsp;for&nbsp;packs&nbsp;of&nbsp;known&nbsp;size.&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;Suggestion:&nbsp;extend&nbsp;the&nbsp;existing&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&nbsp;&nbsp;sZ&nbsp;&lt;template-param&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&nbsp;&nbsp;sZ&nbsp;&lt;function-param&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;with&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&nbsp;&nbsp;sZ&nbsp;J&nbsp;&lt;template-arg&gt;*&nbsp;E&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;for&nbsp;the&nbsp;case&nbsp;of&nbsp;a&nbsp;sizeof...&nbsp;that&nbsp;cannot&nbsp;be&nbsp;expressed&nbsp;as&nbsp;sizeof...(T).&nbsp;S&lt;/span&gt;&lt;span&nbsp;style=&quot;&quot;&gt;o&nbsp;the&nbsp;above&nbsp;parameter&nbsp;would&nbsp;mangle&nbsp;as&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;sZ&nbsp;J&nbsp;DpT_&nbsp;T0_&nbsp;DpT1_&nbsp;E&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;&quot;&gt;I've&nbsp;implemented&nbsp;this,&nbsp;and&nbsp;it&nbsp;seems&nbsp;to&nbsp;work&nbsp;fine.&nbsp;Does&nbsp;this&nbsp;seem&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;&quot;&gt;OK?&lt;/span&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;looks&nbsp;reasonable.&nbsp;&nbsp;Any&nbsp;motivation&nbsp;for&nbsp;choosing&nbsp;&quot;sZJ&quot;?&nbsp;&nbsp;Could&nbsp;we&nbsp;use&nbsp;a&nbsp;two-letter&nbsp;code&nbsp;instead?&nbsp;&nbsp;E.g.,&nbsp;&quot;sP&nbsp;&lt;template-arg&gt;*&nbsp;E&quot;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;Daveed&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
