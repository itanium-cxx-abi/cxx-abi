<tt>
<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;I&nbsp;believe&nbsp;that&nbsp;the&nbsp;latest&nbsp;C&nbsp;ABI&nbsp;passes&nbsp;the&nbsp;pointer&nbsp;to&nbsp;the&nbsp;struct&nbsp;return&nbsp;value&nbsp;in&nbsp;r8,&nbsp;so&nbsp;this&nbsp;isn't&nbsp;a&nbsp;problem.&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;Mark&nbsp;Mendell&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=1&nbsp;color=#800080&nbsp;face=&quot;sans-serif&quot;&gt;Please&nbsp;respond&nbsp;to&nbsp;Mark&nbsp;Mitchell&nbsp;&lt;mark@codesourcery.com&gt;&nbsp;&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=1&nbsp;color=#800080&nbsp;face=&quot;sans-serif&quot;&gt;Sent&nbsp;by:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;owner-cxx-abi@corp.sgi.com&lt;/font&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=1&nbsp;color=#800080&nbsp;face=&quot;sans-serif&quot;&gt;To:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;font&nbsp;size=1&nbsp;face=&quot;sans-serif&quot;&gt;cxx-abi@corp.sgi.com&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=1&nbsp;color=#800080&nbsp;face=&quot;sans-serif&quot;&gt;cc:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=1&nbsp;color=#800080&nbsp;face=&quot;sans-serif&quot;&gt;Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;font&nbsp;size=1&nbsp;face=&quot;sans-serif&quot;&gt;`this'&nbsp;pointer&nbsp;vs.&nbsp;return&nbsp;pointer&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;&lt;br&gt;<br>
Does&nbsp;anyone&nbsp;remember&nbsp;what&nbsp;the&nbsp;resolution&nbsp;was&nbsp;on&nbsp;wehther&nbsp;the&nbsp;`this'&lt;br&gt;<br>
pointer&nbsp;comes&nbsp;before,&nbsp;or&nbsp;after,&nbsp;the&nbsp;pointer&nbsp;to&nbsp;structures&nbsp;returned&nbsp;by&lt;br&gt;<br>
value?&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;don't&nbsp;think&nbsp;the&nbsp;document&nbsp;actually&nbsp;*says*&nbsp;at&nbsp;present.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;think&nbsp;the&nbsp;buffer&nbsp;pointer&nbsp;should&nbsp;come&nbsp;first,&nbsp;and&nbsp;the&nbsp;`this'&nbsp;pointer&lt;br&gt;<br>
should&nbsp;come&nbsp;afterwards.&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;makes&nbsp;sense&nbsp;because&nbsp;then&nbsp;the&nbsp;rule&nbsp;is:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&nbsp;-&nbsp;As&nbsp;a&nbsp;result&nbsp;of&nbsp;this&nbsp;language&nbsp;being&nbsp;C++,&nbsp;you&nbsp;add&nbsp;a&nbsp;`this'&nbsp;pointer.&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&nbsp;-&nbsp;In&nbsp;your&nbsp;back-end,&nbsp;you&nbsp;notice&nbsp;that&nbsp;you've&nbsp;got&nbsp;a&nbsp;return&nbsp;by&nbsp;value,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;you&nbsp;add&nbsp;another&nbsp;parameter.&lt;br&gt;<br>
&lt;br&gt;<br>
Doing&nbsp;anything&nbsp;else&nbsp;is&nbsp;going&nbsp;to&nbsp;be&nbsp;next&nbsp;to&nbsp;impossible&nbsp;in&nbsp;GCC,&nbsp;I&lt;br&gt;<br>
suspect.&lt;br&gt;<br>
&lt;br&gt;<br>
Thoughts?&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Mark&nbsp;Mitchell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mark@codesourcery.com&lt;br&gt;<br>
CodeSourcery,&nbsp;LLC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.codesourcery.com&lt;br&gt;<br>
&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;
</tt>
