<tt>
&lt;HTML&gt;<br>
&nbsp;&nbsp;&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;TITLE&gt;Unwinding&nbsp;ABI&lt;/TITLE&gt;&lt;/HEAD&gt;<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&lt;BODY&nbsp;BGCOLOR=#FFFFFF&gt;<br>
&nbsp;&nbsp;<br>
&lt;P&gt;Here&nbsp;is&nbsp;a&nbsp;quick&nbsp;description&nbsp;of&nbsp;the&nbsp;personality&nbsp;routine&nbsp;interface<br>
and&nbsp;semantics.&nbsp;This&nbsp;description&nbsp;is&nbsp;a&nbsp;slight&nbsp;extension&nbsp;of&nbsp;the&nbsp;existing<br>
personality&nbsp;routine&nbsp;implemented&nbsp;by&nbsp;HP&nbsp;for&nbsp;IA64.&nbsp;The&nbsp;extension&nbsp;is&nbsp;to<br>
allow&nbsp;multiple&nbsp;runtimes&nbsp;from&nbsp;possibly&nbsp;different&nbsp;vendors&nbsp;or&nbsp;for<br>
possibly&nbsp;different&nbsp;languages&nbsp;to&nbsp;cooperate&nbsp;in&nbsp;processsing&nbsp;an<br>
exception.&lt;/P&gt;<br>
<br>
<br>
&lt;P&gt;This&nbsp;document&nbsp;assumes&nbsp;that&nbsp;the&nbsp;chapter&nbsp;11&nbsp;of&nbsp;the&nbsp;Intel/HP&nbsp;&quot;IA-64&nbsp;Software&nbsp;Conventions&nbsp;and&nbsp;Runtime&nbsp;Architecture&quot;&nbsp;document&nbsp;is&nbsp;known&nbsp;to&nbsp;the&nbsp;reader.&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;&lt;I&gt;&lt;FONT&nbsp;SIZE=5&gt;INTERFACE:&lt;/FONT&gt;&lt;/I&gt;&lt;/B&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;The&nbsp;complete&nbsp;exception&nbsp;processing&nbsp;framework&nbsp;consists&nbsp;of&nbsp;at&nbsp;least&nbsp;the&nbsp;following&nbsp;routines:&nbsp;&lt;TT&gt;_RaiseException&lt;/TT&gt;,&nbsp;&lt;TT&gt;_ResumeUnwind&lt;/TT&gt;,&nbsp;&lt;TT&gt;_DeleteException&lt;/TT&gt;,&nbsp;&lt;TT&gt;_Unwind_getGR&lt;/TT&gt;,&nbsp;&lt;TT&gt;_Unwind_setGR&lt;/TT&gt;,&nbsp;&lt;TT&gt;_Unwind_getIP&lt;/TT&gt;,&nbsp;&lt;TT&gt;_Unwind_setIP&lt;/TT&gt;,&nbsp;&lt;TT&gt;_Unwind_getLanguageSpecificData&lt;/TT&gt;,&nbsp;&lt;TT&gt;_Unwind_getRegionStart&lt;/TT&gt;.&nbsp;In&nbsp;addition,&nbsp;a&nbsp;language&nbsp;and&nbsp;vendor&nbsp;specific&nbsp;personality&nbsp;routine&nbsp;will&nbsp;be&nbsp;stored&nbsp;by&nbsp;the&nbsp;compiler&nbsp;in&nbsp;the&nbsp;unwind&nbsp;descriptor&nbsp;for&nbsp;the&nbsp;stack&nbsp;frames&nbsp;requiring&nbsp;exception&nbsp;processing.&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;&lt;FONT&nbsp;SIZE=4&gt;UNWIND&nbsp;RUNTIME&nbsp;ROUTINES:&lt;/FONT&gt;&lt;/B&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;The&nbsp;unwind&nbsp;runtime&nbsp;routines&nbsp;have&nbsp;the&nbsp;following&nbsp;interface&nbsp;and&nbsp;semantics&nbsp;(all&nbsp;routines&nbsp;are&nbsp;&lt;TT&gt;extern&nbsp;&quot;C&quot;&lt;/TT&gt;):&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;TT&gt;uint64&nbsp;_RaiseException&lt;/TT&gt;&lt;TT&gt;(uint64&nbsp;exception_class,&nbsp;void&nbsp;*exception_object);&lt;/TT&gt;&lt;/P&gt;&lt;BLOCKQUOTE&gt;<br>
<br>
&lt;P&gt;Raise&nbsp;an&nbsp;exception,&nbsp;passing&nbsp;along&nbsp;the&nbsp;given&nbsp;exception&nbsp;class&nbsp;and&nbsp;exception&nbsp;object.&nbsp;The&nbsp;exception&nbsp;object&nbsp;has&nbsp;been&nbsp;allocated&nbsp;by&nbsp;the&nbsp;language-specific&nbsp;runtime,&nbsp;and&nbsp;has&nbsp;a&nbsp;language-specific&nbsp;format.&nbsp;&lt;TT&gt;_RaiseException&lt;/TT&gt;&nbsp;does&nbsp;not&nbsp;return,&nbsp;unless&nbsp;an&nbsp;error&nbsp;condition&nbsp;is&nbsp;found&nbsp;(such&nbsp;as&nbsp;no&nbsp;handler&nbsp;accepting&nbsp;to&nbsp;handle&nbsp;the&nbsp;exception,&nbsp;bad&nbsp;stack&nbsp;format,&nbsp;etc).&lt;/P&gt;The&nbsp;first&nbsp;4&nbsp;words&nbsp;(32&nbsp;bytes)&nbsp;of&nbsp;the&nbsp;exception&nbsp;object&nbsp;are&nbsp;allocated&nbsp;for&nbsp;use&nbsp;exclusively&nbsp;by&nbsp;the&nbsp;unwinder,&nbsp;and&nbsp;should&nbsp;not&nbsp;be&nbsp;written&nbsp;by&nbsp;the&nbsp;personality&nbsp;routine&nbsp;or&nbsp;other&nbsp;parts&nbsp;of&nbsp;the&nbsp;language-specific&nbsp;runtime.&nbsp;The&nbsp;first&nbsp;word&nbsp;is&nbsp;used&nbsp;to&nbsp;store&nbsp;the&nbsp;exception&nbsp;class.&nbsp;The&nbsp;second&nbsp;word&nbsp;points&nbsp;to&nbsp;the&nbsp;personality&nbsp;routine&nbsp;of&nbsp;the&nbsp;frame&nbsp;that&nbsp;threw&nbsp;the&nbsp;exception&nbsp;intially.&nbsp;The&nbsp;two&nbsp;next&nbsp;words&nbsp;are&nbsp;reserved&nbsp;for&nbsp;use&nbsp;by&nbsp;the&nbsp;unwinder.&nbsp;[Note:&nbsp;Typical&nbsp;use&nbsp;is&nbsp;to&nbsp;keep&nbsp;the&nbsp;state&nbsp;of&nbsp;the&nbsp;unwinder&nbsp;while&nbsp;executing&nbsp;user&nbsp;code,&nbsp;such&nbsp;as&nbsp;our&nbsp;current&nbsp;frame_handle&nbsp;pointer.]&lt;/BLOCKQUOTE&gt;<br>
<br>
&lt;P&gt;&lt;TT&gt;void&nbsp;_ResumeUnwind&nbsp;(void&nbsp;*exception_object);&lt;/TT&gt;&lt;/P&gt;&lt;BLOCKQUOTE&gt;Resume&nbsp;propagation&nbsp;of&nbsp;an&nbsp;existing&nbsp;exception.&nbsp;[Note:&nbsp;_ResumeUnwind&nbsp;should&nbsp;not&nbsp;be&nbsp;used&nbsp;to&nbsp;implement&nbsp;rethrowing.&nbsp;To&nbsp;the&nbsp;unwinding&nbsp;runtime,&nbsp;the&nbsp;catch&nbsp;code&nbsp;that&nbsp;rethrows&nbsp;was&nbsp;a&nbsp;handler,&nbsp;and&nbsp;the&nbsp;previous&nbsp;unwinding&nbsp;session&nbsp;was&nbsp;terminated&nbsp;before&nbsp;entering&nbsp;it.]&nbsp;[Note:&nbsp;Compared&nbsp;to&nbsp;HP&nbsp;runtime,&nbsp;the&nbsp;exception&nbsp;class&nbsp;and&nbsp;frame&nbsp;handle&nbsp;arguments&nbsp;have&nbsp;been&nbsp;removed.&nbsp;They&nbsp;also&nbsp;need&nbsp;no&nbsp;longer&nbsp;be&nbsp;passed&nbsp;to&nbsp;the&nbsp;landing&nbsp;pads.&nbsp;Instead,&nbsp;the&nbsp;unwinder&nbsp;will&nbsp;store&nbsp;the&nbsp;information&nbsp;in&nbsp;one&nbsp;of&nbsp;its&nbsp;2&nbsp;reserved&nbsp;words.]&lt;/BLOCKQUOTE&gt;<br>
<br>
&lt;P&gt;&lt;TT&gt;void&nbsp;_DeleteException(void&nbsp;*exception_object);&lt;/TT&gt;&lt;/P&gt;&lt;BLOCKQUOTE&gt;If&nbsp;a&nbsp;given&nbsp;runtime&nbsp;resumes&nbsp;normal&nbsp;execution&nbsp;after&nbsp;catching&nbsp;a&nbsp;foreign&nbsp;exception,&nbsp;it&nbsp;will&nbsp;not&nbsp;know&nbsp;how&nbsp;to&nbsp;delete&nbsp;that&nbsp;exception.&nbsp;This&nbsp;exception&nbsp;will&nbsp;be&nbsp;deleted&nbsp;by&nbsp;calling&nbsp;&lt;TT&gt;_DeleteException&lt;/TT&gt;,&nbsp;which&nbsp;in&nbsp;turn&nbsp;will&nbsp;delegate&nbsp;the&nbsp;task&nbsp;to&nbsp;the&nbsp;original&nbsp;personality&nbsp;routine&nbsp;(see&nbsp;&lt;TT&gt;EH_DELETE_EXCEPTION_OBJECT&lt;/TT&gt;&nbsp;below).&lt;/BLOCKQUOTE&gt;<br>
<br>
&lt;P&gt;&lt;TT&gt;uint64&nbsp;_Unwind_getGR(void&nbsp;*context,&nbsp;int&nbsp;index);&lt;BR&gt;uint64&nbsp;_Unwind_getIP(void&nbsp;*context);&lt;BR&gt;void&nbsp;_Unwind_setGR(void&nbsp;*context,&nbsp;int&nbsp;index,&nbsp;uint64&nbsp;new_value);&lt;BR&gt;void&nbsp;_Unwind_setIP(void&nbsp;*context,&nbsp;uint64&nbsp;new_value);&lt;/TT&gt;&lt;/P&gt;&lt;BLOCKQUOTE&gt;Get&nbsp;or&nbsp;set&nbsp;registers&nbsp;from&nbsp;the&nbsp;given&nbsp;unwinder&nbsp;context.&nbsp;The&nbsp;'context'&nbsp;argument&nbsp;is&nbsp;the&nbsp;same&nbsp;argument&nbsp;passed&nbsp;to&nbsp;the&nbsp;personality&nbsp;routine&nbsp;(see&nbsp;below).[Note:&nbsp;Minor&nbsp;changes&nbsp;compared&nbsp;to&nbsp;the&nbsp;existing&nbsp;unwinding&nbsp;interface,&nbsp;mostly&nbsp;to&nbsp;hide&nbsp;the&nbsp;register&nbsp;classes]&lt;/BLOCKQUOTE&gt;<br>
<br>
&lt;P&gt;&lt;TT&gt;uint64&nbsp;_Unwind_getLanguageSpecificData(void&nbsp;*context)&lt;/TT&gt;&lt;/P&gt;&lt;BLOCKQUOTE&gt;Get&nbsp;the&nbsp;address&nbsp;of&nbsp;the&nbsp;language-specific&nbsp;data&nbsp;area&nbsp;for&nbsp;the&nbsp;current&nbsp;stack&nbsp;frame.&nbsp;The&nbsp;'&lt;TT&gt;context&lt;/TT&gt;'&nbsp;argument&nbsp;is&nbsp;the&nbsp;same&nbsp;argument&nbsp;passed&nbsp;to&nbsp;the&nbsp;personality&nbsp;routine.[Note:&nbsp;This&nbsp;is&nbsp;not&nbsp;stricly&nbsp;required:&nbsp;it&nbsp;could&nbsp;be&nbsp;accessed&nbsp;through&nbsp;getIP&nbsp;using&nbsp;the&nbsp;documented&nbsp;format&nbsp;of&nbsp;the&nbsp;UnwindInfoBlock,&nbsp;but&nbsp;since&nbsp;this&nbsp;work&nbsp;has&nbsp;been&nbsp;done&nbsp;for&nbsp;finding&nbsp;the&nbsp;personality&nbsp;routine&nbsp;in&nbsp;the&nbsp;first&nbsp;place,&nbsp;it&nbsp;makes&nbsp;sense&nbsp;to&nbsp;cache&nbsp;the&nbsp;result&nbsp;in&nbsp;the&nbsp;context,&nbsp;as&nbsp;we&nbsp;currently&nbsp;do]&lt;/BLOCKQUOTE&gt;<br>
<br>
&lt;P&gt;&lt;TT&gt;uint64&nbsp;_Unwind_getRegionStart(void&nbsp;*context)&lt;/TT&gt;&lt;/P&gt;&lt;BLOCKQUOTE&gt;Get&nbsp;the&nbsp;address&nbsp;of&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;current&nbsp;procedure&nbsp;or&nbsp;region&nbsp;of&nbsp;code.&nbsp;[Note:&nbsp;This&nbsp;is&nbsp;required&nbsp;for&nbsp;us&nbsp;because&nbsp;we&nbsp;store&nbsp;data&nbsp;relative&nbsp;to&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;code.&nbsp;So&nbsp;let's&nbsp;make&nbsp;it&nbsp;mandatory&nbsp;;-]&lt;/BLOCKQUOTE&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;&lt;FONT&nbsp;SIZE=4&gt;PERSONALITY&nbsp;ROUTINE:&lt;/FONT&gt;&lt;/B&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;The&nbsp;personality&nbsp;routine&nbsp;is&nbsp;defined&nbsp;with&nbsp;the&nbsp;following&nbsp;interface:&lt;/P&gt;&lt;BLOCKQUOTE&gt;&lt;TT&gt;int&nbsp;PersonalityRoutine&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;(int&nbsp;version,&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;phase,&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UInt64&nbsp;exceptionClass,&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;*&nbsp;exceptionObject,&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;*context);&lt;/TT&gt;&lt;/BLOCKQUOTE&gt;<br>
<br>
&lt;P&gt;[Note:&nbsp;the&nbsp;frame_handle&nbsp;argument&nbsp;has&nbsp;been&nbsp;removed:&nbsp;it&nbsp;was&nbsp;used&nbsp;only&nbsp;once&nbsp;in&nbsp;the&nbsp;runtime,&nbsp;and&nbsp;the&nbsp;cost&nbsp;of&nbsp;reading&nbsp;it&nbsp;back&nbsp;from&nbsp;the&nbsp;exception&nbsp;object&nbsp;is&nbsp;really&nbsp;minimal,&nbsp;compared&nbsp;to&nbsp;the&nbsp;cost&nbsp;of&nbsp;having&nbsp;to&nbsp;spill&nbsp;it&nbsp;in&nbsp;all&nbsp;landing&nbsp;pads...&nbsp;The&nbsp;context&nbsp;argument&nbsp;type&nbsp;has&nbsp;been&nbsp;made&nbsp;opaque]&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;The&nbsp;arguments&nbsp;have&nbsp;the&nbsp;following&nbsp;role&nbsp;and&nbsp;meanings:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;version&lt;/B&gt;:&nbsp;Version&nbsp;number&nbsp;that&nbsp;the&nbsp;compiler&nbsp;and&nbsp;personality&nbsp;routine&nbsp;agree&nbsp;on,&nbsp;identifying&nbsp;for&nbsp;instance&nbsp;language-specific&nbsp;table&nbsp;format.&nbsp;This&nbsp;version&nbsp;number&nbsp;is&nbsp;read&nbsp;from&nbsp;the&nbsp;unwind&nbsp;information&nbsp;block&nbsp;(unwind&nbsp;tables)&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;phase&lt;/B&gt;:&nbsp;Indicates&nbsp;what&nbsp;processing&nbsp;the&nbsp;personality&nbsp;routine&nbsp;is&nbsp;supposed&nbsp;to&nbsp;perform.&nbsp;The&nbsp;possible&nbsp;actions&nbsp;are&nbsp;described&nbsp;below&nbsp;under&nbsp;'&lt;B&gt;UNWINDING&nbsp;PHASES&lt;/B&gt;'&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;exceptionClass&lt;/B&gt;:&nbsp;An&nbsp;8-bytes&nbsp;identifier&nbsp;specifying&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;thrown&nbsp;exception.&nbsp;By&nbsp;convention,&nbsp;the&nbsp;high&nbsp;4&nbsp;bytes&nbsp;indicate&nbsp;the&nbsp;vendor&nbsp;(for&nbsp;instance&nbsp;HP\0\0),&nbsp;and&nbsp;the&nbsp;low&nbsp;4&nbsp;bytes&nbsp;indicate&nbsp;the&nbsp;language&nbsp;(for&nbsp;instance&nbsp;C++\0.)&nbsp;[Note:&nbsp;For&nbsp;C++,&nbsp;it&nbsp;is&nbsp;expected&nbsp;that&nbsp;agreement&nbsp;will&nbsp;be&nbsp;reached&nbsp;on&nbsp;a&nbsp;common&nbsp;'exceptionObject',&nbsp;but&nbsp;different&nbsp;vendors&nbsp;may&nbsp;still&nbsp;chose&nbsp;to&nbsp;have&nbsp;different&nbsp;personality&nbsp;routines&nbsp;with&nbsp;different&nbsp;table&nbsp;formats.]&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;exceptionObject&lt;/B&gt;:&nbsp;The&nbsp;pointer&nbsp;to&nbsp;a&nbsp;memory&nbsp;location&nbsp;recording&nbsp;the&nbsp;necessary&nbsp;information&nbsp;for&nbsp;processing&nbsp;the&nbsp;exception&nbsp;according&nbsp;to&nbsp;the&nbsp;semantics&nbsp;of&nbsp;a&nbsp;given&nbsp;language.&nbsp;[Note:&nbsp;For&nbsp;C++,&nbsp;it&nbsp;is&nbsp;assumed&nbsp;that&nbsp;the&nbsp;format&nbsp;of&nbsp;this&nbsp;exception&nbsp;object&nbsp;can&nbsp;be&nbsp;agreed&nbsp;upon,&nbsp;even&nbsp;if&nbsp;we&nbsp;disagree&nbsp;on&nbsp;the&nbsp;LSDA&nbsp;and/or&nbsp;landing&nbsp;pad&nbsp;registers&nbsp;or&nbsp;similar&nbsp;details.]&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;context&lt;/B&gt;:&nbsp;Unwinder&nbsp;state&nbsp;information&nbsp;for&nbsp;use&nbsp;by&nbsp;the&nbsp;personality&nbsp;routine.&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;personality&nbsp;routine&nbsp;in&nbsp;particular&nbsp;to&nbsp;access&nbsp;the&nbsp;frame's&nbsp;registers.&nbsp;[Note:&nbsp;I&nbsp;don't&nbsp;see&nbsp;how&nbsp;anything&nbsp;could&nbsp;work&nbsp;without&nbsp;a&nbsp;minimal&nbsp;common&nbsp;unwinder&nbsp;interface&nbsp;-&nbsp;which&nbsp;is&nbsp;why&nbsp;it&nbsp;has&nbsp;been&nbsp;defined&nbsp;above]&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;return&nbsp;value&lt;/B&gt;:&nbsp;The&nbsp;return&nbsp;value&nbsp;from&nbsp;the&nbsp;personality&nbsp;routine&nbsp;indicates&nbsp;how&nbsp;further&nbsp;undinwind&nbsp;should&nbsp;happen,&nbsp;as&nbsp;well&nbsp;as&nbsp;possible&nbsp;error&nbsp;conditions.&nbsp;See&nbsp;&quot;&lt;B&gt;UNWINDING&nbsp;PHASES&lt;/B&gt;&quot;&nbsp;below&nbsp;for&nbsp;details.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;&lt;FONT&nbsp;SIZE=4&gt;UNWINDING&nbsp;PHASES&lt;/FONT&gt;&lt;/B&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;Unwinding&nbsp;is&nbsp;a&nbsp;2-phases&nbsp;process.&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;PASS&nbsp;1&nbsp;unwinds&nbsp;through&nbsp;the&nbsp;stack,&nbsp;looking&nbsp;for&nbsp;a&nbsp;&quot;handler&quot;,&nbsp;that&nbsp;is&nbsp;a&nbsp;code&nbsp;that&nbsp;has&nbsp;the&nbsp;potential&nbsp;to&nbsp;stop&nbsp;the&nbsp;exception&nbsp;propagation.&nbsp;For&nbsp;C++,&nbsp;this&nbsp;would&nbsp;be&nbsp;a&nbsp;'catch'&nbsp;clause.&nbsp;The&nbsp;first&nbsp;pass&nbsp;can&nbsp;do&nbsp;a&nbsp;&quot;quick&quot;&nbsp;unwind,&nbsp;meaning&nbsp;it&nbsp;does&nbsp;not&nbsp;need&nbsp;to&nbsp;maintain&nbsp;full&nbsp;registers&nbsp;state.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;PASS&nbsp;2&nbsp;starts&nbsp;once&nbsp;a&nbsp;handler&nbsp;has&nbsp;been&nbsp;found.&nbsp;For&nbsp;each&nbsp;stack&nbsp;frame&nbsp;that&nbsp;requires&nbsp;some&nbsp;cleanup,&nbsp;it&nbsp;performs&nbsp;that&nbsp;cleanup.&nbsp;For&nbsp;C++,&nbsp;this&nbsp;would&nbsp;be&nbsp;destructors&nbsp;in&nbsp;addition&nbsp;to&nbsp;catch&nbsp;clauses.&nbsp;If&nbsp;compensation&nbsp;code&nbsp;for&nbsp;some&nbsp;optimization&nbsp;is&nbsp;required,&nbsp;this&nbsp;is&nbsp;also&nbsp;the&nbsp;pass&nbsp;this&nbsp;code&nbsp;will&nbsp;be&nbsp;executed.&nbsp;During&nbsp;that&nbsp;pass,&nbsp;the&nbsp;stack&nbsp;is&nbsp;actually&nbsp;unwound,&nbsp;and&nbsp;full&nbsp;register&nbsp;state&nbsp;is&nbsp;restored&nbsp;prior&nbsp;to&nbsp;executing&nbsp;any&nbsp;cleanup,&nbsp;compensation&nbsp;or&nbsp;handler&nbsp;code.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;<br>
<br>
&lt;P&gt;[Note:&nbsp;Cleanup&nbsp;code&nbsp;is&nbsp;code&nbsp;doing&nbsp;some&nbsp;user-defined&nbsp;cleanup&nbsp;such&nbsp;as&nbsp;destructors.&nbsp;Compensation&nbsp;code&nbsp;is&nbsp;code&nbsp;inserted&nbsp;by&nbsp;the&nbsp;compiler&nbsp;to&nbsp;compensate&nbsp;for&nbsp;an&nbsp;optimization&nbsp;that&nbsp;moved&nbsp;code&nbsp;past&nbsp;the&nbsp;throwing&nbsp;call.&nbsp;Handler&nbsp;code&nbsp;is&nbsp;user-defined&nbsp;code&nbsp;that&nbsp;possibly&nbsp;can&nbsp;resume&nbsp;normal&nbsp;execution]&lt;/P&gt;<br>
<br>
&lt;P&gt;The&nbsp;unwinding&nbsp;phase&nbsp;argument&nbsp;to&nbsp;the&nbsp;personality&nbsp;routine&nbsp;is&nbsp;a&nbsp;bitwise&nbsp;or&nbsp;of&nbsp;the&nbsp;following&nbsp;constants:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;TT&gt;EH_SEARCH_PHASE&lt;/TT&gt;&nbsp;=&nbsp;1:&nbsp;Indicates&nbsp;that&nbsp;the&nbsp;personality&nbsp;routine&nbsp;should&nbsp;check&nbsp;if&nbsp;the&nbsp;current&nbsp;frame&nbsp;contains&nbsp;a&nbsp;handler,&nbsp;and&nbsp;if&nbsp;so&nbsp;return&nbsp;&lt;TT&gt;EH_HANDLER_FOUND&lt;/TT&gt;,&nbsp;or&nbsp;otherwise&nbsp;return&nbsp;&lt;TT&gt;EH_CONTINUE_UNWIND&lt;/TT&gt;.&nbsp;&lt;TT&gt;EH_SEARCH_PHASE&lt;/TT&gt;&nbsp;cannot&nbsp;be&nbsp;set&nbsp;at&nbsp;the&nbsp;same&nbsp;time&nbsp;as&nbsp;&lt;TT&gt;EH_CLEANUP_PHASE&lt;/TT&gt;.&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;TT&gt;EH_CLEANUP_PHASE&lt;/TT&gt;&nbsp;=&nbsp;2:&nbsp;Indicates&nbsp;that&nbsp;the&nbsp;personality&nbsp;routine&nbsp;should&nbsp;perform&nbsp;cleanup&nbsp;for&nbsp;the&nbsp;current&nbsp;frame.&nbsp;The&nbsp;personality&nbsp;routine&nbsp;can&nbsp;perform&nbsp;this&nbsp;cleanup&nbsp;itself,&nbsp;by&nbsp;calling&nbsp;nested&nbsp;procedures,&nbsp;and&nbsp;return&nbsp;&lt;TT&gt;EH_CONTINUE_UNWIND&lt;/TT&gt;&nbsp;[&nbsp;Note:&nbsp;This&nbsp;is&nbsp;required&nbsp;to&nbsp;support&nbsp;the&nbsp;Intel&nbsp;nested&nbsp;procedures&nbsp;model].&nbsp;Alternatively,&nbsp;it&nbsp;can&nbsp;setup&nbsp;the&nbsp;registers&nbsp;(including&nbsp;the&nbsp;IP)&nbsp;for&nbsp;transferring&nbsp;control&nbsp;to&nbsp;a&nbsp;&quot;landing&nbsp;pad&quot;,&nbsp;and&nbsp;return&nbsp;&lt;TT&gt;EH_INSTALL_HANDLER&lt;/TT&gt;&nbsp;(See&nbsp;&quot;&lt;B&gt;TRANSFERRING&nbsp;CONTROL&nbsp;TO&nbsp;A&nbsp;LANDING&nbsp;PAD&lt;/B&gt;&quot;&nbsp;below).&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;TT&gt;EH_HANDLER_FRAME&lt;/TT&gt;&nbsp;=&nbsp;4:&nbsp;During&nbsp;pass&nbsp;2,&nbsp;indicates&nbsp;to&nbsp;the&nbsp;personality&nbsp;routine&nbsp;that&nbsp;the&nbsp;current&nbsp;frame&nbsp;is&nbsp;the&nbsp;one&nbsp;which&nbsp;was&nbsp;flagged&nbsp;as&nbsp;the&nbsp;handler&nbsp;frame&nbsp;during&nbsp;pass&nbsp;1.&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;TT&gt;EH_DELETE_EXCEPTION_OBJECT&lt;/TT&gt;&nbsp;=&nbsp;8:&nbsp;During&nbsp;pass&nbsp;2,&nbsp;indicates&nbsp;that&nbsp;the&nbsp;runtime&nbsp;that&nbsp;actually&nbsp;caught&nbsp;the&nbsp;exception&nbsp;does&nbsp;not&nbsp;know&nbsp;how&nbsp;to&nbsp;delete&nbsp;it,&nbsp;and&nbsp;called&nbsp;&lt;TT&gt;_DeleteException&lt;/TT&gt;.&nbsp;'&lt;TT&gt;context&lt;/TT&gt;'&nbsp;should&nbsp;not&nbsp;be&nbsp;used&nbsp;in&nbsp;that&nbsp;case.&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;TT&gt;EH_FATAL_PASS2_ERROR&lt;/TT&gt;&nbsp;=&nbsp;16:&nbsp;During&nbsp;pass&nbsp;2,&nbsp;indicates&nbsp;that&nbsp;a&nbsp;fatal&nbsp;unwinding&nbsp;error&nbsp;occured.&nbsp;In&nbsp;that&nbsp;case,&nbsp;the&nbsp;personality&nbsp;routine&nbsp;should&nbsp;not&nbsp;return.&nbsp;This&nbsp;is&nbsp;sent&nbsp;to&nbsp;the&nbsp;original&nbsp;personality&nbsp;routine&nbsp;associated&nbsp;to&nbsp;the&nbsp;initial&nbsp;exception&nbsp;object.&nbsp;[Note:&nbsp;This&nbsp;is&nbsp;required&nbsp;if&nbsp;we&nbsp;want&nbsp;to&nbsp;ensure&nbsp;that&nbsp;&lt;TT&gt;_ResumeUnwind&lt;/TT&gt;&nbsp;never&nbsp;returns,&nbsp;and&nbsp;if&nbsp;we&nbsp;also&nbsp;want&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;call&nbsp;&lt;TT&gt;terminate()&nbsp;&lt;/TT&gt;in&nbsp;the&nbsp;case&nbsp;a&nbsp;stack&nbsp;inconsistency&nbsp;is&nbsp;found&nbsp;during&nbsp;pass&nbsp;2.&nbsp;An&nbsp;error&nbsp;detected&nbsp;during&nbsp;pass&nbsp;1&nbsp;is&nbsp;reported&nbsp;by&nbsp;returning&nbsp;from&nbsp;&lt;TT&gt;_RaiseException&lt;/TT&gt;.]&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;&lt;TT&gt;EH_FORCE_UNWIND&lt;/TT&gt;&nbsp;=&nbsp;32:&nbsp;During&nbsp;pass&nbsp;2,&nbsp;indicates&nbsp;that&nbsp;no&nbsp;language&nbsp;is&nbsp;allowed&nbsp;to&nbsp;&quot;catch&quot;&nbsp;the&nbsp;exception.&nbsp;This&nbsp;flag&nbsp;is&nbsp;set&nbsp;while&nbsp;unwinding&nbsp;the&nbsp;stack&nbsp;for&nbsp;setjmp&nbsp;or&nbsp;during&nbsp;thread&nbsp;cancellation.&nbsp;User-defined&nbsp;code&nbsp;in&nbsp;a&nbsp;catch&nbsp;clause&nbsp;may&nbsp;still&nbsp;be&nbsp;executed,&nbsp;but&nbsp;the&nbsp;catch&nbsp;clause&nbsp;has&nbsp;to&nbsp;resume&nbsp;unwinding&nbsp;at&nbsp;its&nbsp;end.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=4&gt;&lt;B&gt;TRANSFERRING&nbsp;CONTROL&nbsp;TO&nbsp;A&nbsp;LANDING&nbsp;PAD:&lt;/B&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;In&nbsp;the&nbsp;case&nbsp;the&nbsp;personality&nbsp;routine&nbsp;wants&nbsp;to&nbsp;transfer&nbsp;control&nbsp;to&nbsp;a&nbsp;landing&nbsp;pad,&nbsp;it&nbsp;setups&nbsp;registers&nbsp;(including&nbsp;IP)&nbsp;to&nbsp;suitable&nbsp;values&nbsp;for&nbsp;entering&nbsp;the&nbsp;landing&nbsp;pad.&nbsp;Prior&nbsp;to&nbsp;executing&nbsp;code&nbsp;in&nbsp;the&nbsp;landing&nbsp;pad,&nbsp;registers&nbsp;not&nbsp;altered&nbsp;by&nbsp;the&nbsp;personality&nbsp;routine&nbsp;will&nbsp;be&nbsp;restored&nbsp;to&nbsp;the&nbsp;exact&nbsp;state&nbsp;they&nbsp;were&nbsp;in&nbsp;that&nbsp;frame&nbsp;before&nbsp;the&nbsp;call&nbsp;that&nbsp;threw&nbsp;the&nbsp;exception.&lt;/P&gt;<br>
<br>
&lt;P&gt;The&nbsp;landing&nbsp;pad&nbsp;can&nbsp;either&nbsp;resume&nbsp;execution&nbsp;to&nbsp;normal&nbsp;(as,&nbsp;for&nbsp;instance,&nbsp;at&nbsp;end&nbsp;of&nbsp;a&nbsp;C++&nbsp;&lt;TT&gt;catch&lt;/TT&gt;),&nbsp;or&nbsp;resume&nbsp;unwinding&nbsp;by&nbsp;calling&nbsp;the&nbsp;&lt;TT&gt;_ResumeUnwind&lt;/TT&gt;&nbsp;function&nbsp;and&nbsp;passing&nbsp;it&nbsp;the&nbsp;'&lt;TT&gt;exceptionObject&lt;/TT&gt;'&nbsp;argument&nbsp;received&nbsp;by&nbsp;the&nbsp;personality&nbsp;routine.&nbsp;&lt;TT&gt;_ResumeUnwind&lt;/TT&gt;&nbsp;will&nbsp;never&nbsp;return.&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;TT&gt;_ResumeUnwind&lt;/TT&gt;&nbsp;should&nbsp;be&nbsp;called&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;the&nbsp;personality&nbsp;routine&nbsp;did&nbsp;not&nbsp;return&nbsp;&lt;TT&gt;EH_HANDLER_FOUND&lt;/TT&gt;&nbsp;during&nbsp;phase&nbsp;1.&nbsp;In&nbsp;other&nbsp;words,&nbsp;the&nbsp;unwinder&nbsp;can&nbsp;allocate&nbsp;some&nbsp;resources&nbsp;(for&nbsp;instance&nbsp;memory)&nbsp;and&nbsp;keep&nbsp;track&nbsp;of&nbsp;them&nbsp;in&nbsp;the&nbsp;exception&nbsp;object&nbsp;reserved&nbsp;words.&nbsp;It&nbsp;should&nbsp;then&nbsp;free&nbsp;these&nbsp;resources&nbsp;before&nbsp;transferring&nbsp;control&nbsp;to&nbsp;the&nbsp;last&nbsp;(handler)&nbsp;landing&nbsp;pad.&nbsp;It&nbsp;does&nbsp;not&nbsp;need&nbsp;to&nbsp;free&nbsp;the&nbsp;resources&nbsp;before&nbsp;entering&nbsp;non-handler&nbsp;landing-pads,&nbsp;since&nbsp;&lt;TT&gt;_ResumeUnwind&lt;/TT&gt;&nbsp;will&nbsp;ultimately&nbsp;be&nbsp;called.&lt;/P&gt;<br>
<br>
&lt;P&gt;The&nbsp;landing&nbsp;pad&nbsp;will&nbsp;receive&nbsp;various&nbsp;arguments&nbsp;from&nbsp;the&nbsp;runtime,&nbsp;typically&nbsp;passed&nbsp;in&nbsp;registers&nbsp;set&nbsp;using&nbsp;&lt;TT&gt;_Unwind_setGR&lt;/TT&gt;&nbsp;by&nbsp;the&nbsp;personality&nbsp;routine.&nbsp;For&nbsp;a&nbsp;landing&nbsp;pad&nbsp;that&nbsp;can&nbsp;lead&nbsp;to&nbsp;&lt;TT&gt;_ResumeUnwind&lt;/TT&gt;,&nbsp;one&nbsp;argument&nbsp;must&nbsp;be&nbsp;the&nbsp;&lt;TT&gt;exceptionObject&lt;/TT&gt;&nbsp;pointer,&nbsp;which&nbsp;must&nbsp;be&nbsp;preserved&nbsp;to&nbsp;be&nbsp;passed&nbsp;to&nbsp;&lt;TT&gt;_ResumeUnwind&lt;/TT&gt;.&nbsp;[Note:&nbsp;Thanks&nbsp;to&nbsp;the&nbsp;4&nbsp;reserved&nbsp;words&nbsp;in&nbsp;the&nbsp;exception&nbsp;object,&nbsp;2&nbsp;landing-pad&nbsp;arguments&nbsp;have&nbsp;been&nbsp;eliminated.]&nbsp;The&nbsp;landing&nbsp;pad&nbsp;may&nbsp;receive&nbsp;other&nbsp;arguments,&nbsp;for&nbsp;instance&nbsp;a&nbsp;'switch&nbsp;value'&nbsp;indicating&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;exception&nbsp;being&nbsp;caught.&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;&lt;FONT&nbsp;SIZE=4&gt;RULES&nbsp;FOR&nbsp;CORRECT&nbsp;INTER-LANGUAGE&nbsp;OPERATION:&lt;/FONT&gt;&lt;/B&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;The&nbsp;following&nbsp;rules&nbsp;must&nbsp;be&nbsp;observed&nbsp;for&nbsp;correct&nbsp;operation&nbsp;between&nbsp;languages&nbsp;and/or&nbsp;runtimes&nbsp;from&nbsp;different&nbsp;vendors:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;An&nbsp;exception&nbsp;which&nbsp;has&nbsp;an&nbsp;unknown&nbsp;class&nbsp;must&nbsp;not&nbsp;be&nbsp;altered&nbsp;by&nbsp;the&nbsp;personality&nbsp;routine.&nbsp;The&nbsp;semantics&nbsp;of&nbsp;foreign&nbsp;exception&nbsp;processing&nbsp;depend&nbsp;on&nbsp;the&nbsp;language&nbsp;of&nbsp;the&nbsp;stack&nbsp;frame&nbsp;being&nbsp;unwound.&nbsp;This&nbsp;covers&nbsp;in&nbsp;particular&nbsp;how&nbsp;exceptions&nbsp;from&nbsp;a&nbsp;foreign&nbsp;language&nbsp;are&nbsp;mapped&nbsp;to&nbsp;the&nbsp;native&nbsp;language&nbsp;in&nbsp;that&nbsp;frame.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;If&nbsp;a&nbsp;runtime&nbsp;resumes&nbsp;normal&nbsp;execution,&nbsp;and&nbsp;the&nbsp;caught&nbsp;exception&nbsp;was&nbsp;created&nbsp;by&nbsp;another&nbsp;runtime,&nbsp;it&nbsp;should&nbsp;call&nbsp;&lt;TT&gt;_DeleteException&lt;/TT&gt;.&nbsp;This&nbsp;is&nbsp;true&nbsp;even&nbsp;if&nbsp;it&nbsp;understands&nbsp;the&nbsp;exception&nbsp;object&nbsp;format&nbsp;(such&nbsp;as&nbsp;would&nbsp;be&nbsp;the&nbsp;case&nbsp;between&nbsp;different&nbsp;C++&nbsp;runtimes).&nbsp;[Note:&nbsp;This&nbsp;is&nbsp;because&nbsp;the&nbsp;other&nbsp;runtime&nbsp;might&nbsp;have&nbsp;to&nbsp;update&nbsp;some&nbsp;global&nbsp;variables&nbsp;that&nbsp;point&nbsp;to&nbsp;the&nbsp;exception&nbsp;being&nbsp;deleted.]&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;A&nbsp;runtime&nbsp;is&nbsp;not&nbsp;allowed&nbsp;to&nbsp;catch&nbsp;an&nbsp;exception&nbsp;if&nbsp;the&nbsp;EH_FORCE_UNWIND&nbsp;flag&nbsp;was&nbsp;passed&nbsp;to&nbsp;the&nbsp;personality&nbsp;routine.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;<br>
<br>
&lt;P&gt;&lt;B&gt;&lt;FONT&nbsp;SIZE=4&gt;CATCHING&nbsp;FOREIGN&nbsp;EXCEPTIONS&nbsp;IN&nbsp;C++&lt;/FONT&gt;&lt;/B&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;Foreign&nbsp;exception&nbsp;can&nbsp;be&nbsp;caught&nbsp;in&nbsp;a&nbsp;&lt;TT&gt;catch(...)&lt;/TT&gt;.&nbsp;They&nbsp;can&nbsp;also&nbsp;be&nbsp;caught&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;of&nbsp;a&nbsp;&lt;TT&gt;__foreign_exception&lt;/TT&gt;&nbsp;class,&nbsp;defined&nbsp;in&nbsp;&lt;TT&gt;&lt;exception&gt;&lt;/TT&gt;.&nbsp;[Note:&nbsp;The&nbsp;&lt;TT&gt;__foreign_exception&lt;/TT&gt;&nbsp;may&nbsp;have&nbsp;subclasses,&nbsp;such&nbsp;as&nbsp;&lt;TT&gt;__java_exception&lt;/TT&gt;&nbsp;and&nbsp;&lt;TT&gt;__ada_exception&lt;/TT&gt;,&nbsp;if&nbsp;the&nbsp;runtime&nbsp;is&nbsp;capable&nbsp;of&nbsp;identifying&nbsp;some&nbsp;of&nbsp;the&nbsp;foreign&nbsp;languages.]&lt;/P&gt;<br>
<br>
&lt;P&gt;The&nbsp;behavior&nbsp;is&nbsp;undefined&nbsp;in&nbsp;the&nbsp;following&nbsp;cases:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;A&nbsp;&lt;TT&gt;__foreign_exception&lt;/TT&gt;&nbsp;catch&nbsp;argument&nbsp;is&nbsp;accessed&nbsp;in&nbsp;any&nbsp;way&nbsp;(including&nbsp;taking&nbsp;its&nbsp;address).&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;A&nbsp;&lt;TT&gt;__foreign_exception&lt;/TT&gt;&nbsp;is&nbsp;active&nbsp;at&nbsp;the&nbsp;same&nbsp;time&nbsp;as&nbsp;another&nbsp;exception&nbsp;(either&nbsp;there&nbsp;is&nbsp;a&nbsp;nested&nbsp;exception&nbsp;while&nbsp;catching&nbsp;the&nbsp;foreign&nbsp;exception,&nbsp;or&nbsp;the&nbsp;foreign&nbsp;exception&nbsp;was&nbsp;itself&nbsp;nested)&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;&lt;TT&gt;uncaught_exception()&lt;/TT&gt;,&nbsp;&lt;TT&gt;set_terminate()&lt;/TT&gt;,&nbsp;&lt;TT&gt;set_unexpected()&lt;/TT&gt;,&nbsp;&lt;TT&gt;terminate()&lt;/TT&gt;&nbsp;or&nbsp;&lt;TT&gt;unexpected()&lt;/TT&gt;&nbsp;is&nbsp;called&nbsp;at&nbsp;a&nbsp;time&nbsp;a&nbsp;foreign&nbsp;exception&nbsp;exists&nbsp;(for&nbsp;instance,&nbsp;calling&nbsp;&lt;TT&gt;set_terminate&lt;/TT&gt;()&nbsp;during&nbsp;unwinding&nbsp;of&nbsp;a&nbsp;foreign&nbsp;exception)&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;<br>
<br>
&lt;P&gt;[Note:&nbsp;All&nbsp;these&nbsp;cases&nbsp;might&nbsp;involve&nbsp;accessing&nbsp;the&nbsp;C++&nbsp;specific&nbsp;content&nbsp;of&nbsp;the&nbsp;thrown&nbsp;exception,&nbsp;for&nbsp;instance&nbsp;to&nbsp;chain&nbsp;active&nbsp;exceptions]&lt;/P&gt;<br>
<br>
&lt;P&gt;Otherwise,&nbsp;a&nbsp;catch&nbsp;block&nbsp;catching&nbsp;a&nbsp;foreign&nbsp;exception&nbsp;is&nbsp;allowed:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;To&nbsp;resume&nbsp;normal&nbsp;execution,&nbsp;thereby&nbsp;stopping&nbsp;propagation&nbsp;of&nbsp;the&nbsp;foreign&nbsp;exception&nbsp;and&nbsp;deleting&nbsp;it,&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;<br>
<br>
&lt;P&gt;&nbsp;Or&nbsp;to&nbsp;rethrow&nbsp;the&nbsp;foreign&nbsp;exception.&nbsp;In&nbsp;that&nbsp;case,&nbsp;the&nbsp;original&nbsp;exception&nbsp;object&nbsp;should&nbsp;have&nbsp;been&nbsp;unaltered&nbsp;in&nbsp;any&nbsp;way&nbsp;by&nbsp;the&nbsp;C++&nbsp;runtime.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;<br>
<br>
&lt;P&gt;A&nbsp;catch-all&nbsp;block&nbsp;may&nbsp;be&nbsp;executed&nbsp;during&nbsp;forced&nbsp;unwinding.&nbsp;For&nbsp;instance,&nbsp;a&nbsp;setjmp&nbsp;may&nbsp;execute&nbsp;code&nbsp;in&nbsp;a&nbsp;catch(...)&nbsp;during&nbsp;stack&nbsp;unwinding.&nbsp;However,&nbsp;if&nbsp;this&nbsp;happens,&nbsp;unwinding&nbsp;will&nbsp;proceed&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;catch-all&nbsp;block,&nbsp;whether&nbsp;or&nbsp;not&nbsp;there&nbsp;is&nbsp;an&nbsp;explicit&nbsp;rethrow.&lt;/P&gt;Setting&nbsp;the&nbsp;low&nbsp;4&nbsp;bytes&nbsp;of&nbsp;exception&nbsp;class&nbsp;to&nbsp;C++\0&nbsp;is&nbsp;reserved&nbsp;for&nbsp;use&nbsp;by&nbsp;C++&nbsp;runtimes&nbsp;compatible&nbsp;with&nbsp;the&nbsp;common&nbsp;C++&nbsp;ABI.&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
