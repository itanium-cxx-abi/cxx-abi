<tt>
&lt;html&gt;&lt;body&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;It&nbsp;seems&nbsp;that&nbsp;the&nbsp;ABI&nbsp;is&nbsp;missing&nbsp;mangling&nbsp;for&nbsp;elaborated&nbsp;type&nbsp;specifiers.&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&lt;b&gt;Background:&lt;/b&gt;&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;As&nbsp;mentioned&nbsp;in&nbsp;Core&nbsp;Issue&nbsp;1162,&nbsp;elaborated-type-specifiers&nbsp;may&nbsp;be&nbsp;used&nbsp;to&nbsp;cause&nbsp;SFINAE.&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;The&nbsp;proposed&nbsp;wording&nbsp;for&nbsp;Core&nbsp;Issue&nbsp;1668&nbsp;&lt;&lt;a&nbsp;href=&quot;http://jmaurer.awardspace.info/wg21/proposed_resolution_core-1668.html&quot;&gt;http://jmaurer.awardspace.info/wg21/proposed_resolution_core-1668.html&lt;/a&gt;&gt;&nbsp;clarifies&nbsp;the&nbsp;various&nbsp;aspects&nbsp;of&nbsp;function&nbsp;signatures&nbsp;and&nbsp;the&nbsp;relationship&nbsp;of&nbsp;being&nbsp;functionally&nbsp;equivalent.&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;Using&nbsp;Clang&nbsp;3.4,&nbsp;the&nbsp;program&nbsp;below&nbsp;unexpectedly&nbsp;terminates&nbsp;from&nbsp;an&nbsp;uncaught&nbsp;exception.&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&lt;b&gt;depElaboratedA.cc:&lt;/b&gt;&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;struct&nbsp;B&nbsp;{&nbsp;enum&nbsp;ty&nbsp;{&nbsp;BtyA&nbsp;};&nbsp;};&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;template&nbsp;&lt;typename&nbsp;T&gt;&nbsp;int&nbsp;foo(enum&nbsp;T::ty&nbsp;*)&nbsp;{&nbsp;static&nbsp;int&nbsp;x&nbsp;=&nbsp;0;&nbsp;return&nbsp;++x;&nbsp;}&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;int&nbsp;bar()&nbsp;{&nbsp;return&nbsp;foo&lt;B&gt;(0);&nbsp;}&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;template&nbsp;&lt;typename&nbsp;T&gt;&nbsp;int&nbsp;foo(typename&nbsp;T::ty&nbsp;*)&nbsp;{&nbsp;static&nbsp;int&nbsp;x&nbsp;=&nbsp;0;&nbsp;return&nbsp;++x;&nbsp;}&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&lt;b&gt;depElaboratedB.cc:&lt;/b&gt;&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;struct&nbsp;B&nbsp;{&nbsp;enum&nbsp;ty&nbsp;{&nbsp;BtyA&nbsp;};&nbsp;};&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;template&nbsp;&lt;typename&nbsp;T&gt;&nbsp;int&nbsp;foo(typename&nbsp;T::ty&nbsp;*)&nbsp;{&nbsp;static&nbsp;int&nbsp;x&nbsp;=&nbsp;0;&nbsp;return&nbsp;++x;&nbsp;}&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;int&nbsp;zip()&nbsp;{&nbsp;return&nbsp;foo&lt;B&gt;(0);&nbsp;}&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;int&nbsp;bar();&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;int&nbsp;main()&nbsp;{&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;bar();&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;if&nbsp;(zip()&nbsp;!=&nbsp;1)&nbsp;throw&nbsp;0;&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;}&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;Thanks,&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;Hubert&nbsp;Tong&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&lt;br&gt;<br>
Hubert&nbsp;S&nbsp;K&nbsp;Tong&lt;br&gt;<br>
IBM&nbsp;Canada&nbsp;Ltd&lt;br&gt;<br>
8200&nbsp;Warden&nbsp;Ave,&nbsp;Markham&nbsp;ON&nbsp;&nbsp;L6G&nbsp;1C7&lt;br&gt;<br>
Canada&lt;/font&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
