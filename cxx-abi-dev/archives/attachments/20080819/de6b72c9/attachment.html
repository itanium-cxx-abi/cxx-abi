<tt>
<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;The&nbsp;example&nbsp;in&nbsp;question&nbsp;is&nbsp;at&nbsp;the&nbsp;end<br>
of&nbsp;&quot;5.1.5&nbsp;Type&nbsp;encodings&quot;.&nbsp;&nbsp;of&nbsp;&lt;/font&gt;&lt;a&nbsp;href=&quot;http://www.codesourcery.com/public/cxx-abi/abi.html&quot;&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;http://www.codesourcery.com/public/cxx-abi/abi.html&lt;/font&gt;&lt;/a&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;.&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;In&nbsp;this&nbsp;example,&nbsp;it&nbsp;is&nbsp;using&nbsp;an&nbsp;extern<br>
&quot;C&quot;&nbsp;function&nbsp;as&nbsp;a&nbsp;parameter&nbsp;to&nbsp;a&nbsp;class&nbsp;template.&nbsp;There&nbsp;are&nbsp;two<br>
problems:&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;1.&nbsp;Should&nbsp;there&nbsp;be&nbsp;full&nbsp;mangling,&nbsp;partial<br>
mangling,&nbsp;or&nbsp;no&nbsp;mangling&nbsp;of&nbsp;the&nbsp;extern&nbsp;'C&quot;&nbsp;function&nbsp;as&nbsp;a&nbsp;template<br>
parameter?&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;2.&nbsp;Should&nbsp;there&nbsp;be&nbsp;an&nbsp;X...E&nbsp;(after&nbsp;the<br>
I&nbsp;and&nbsp;before&nbsp;the&nbsp;L)&nbsp;since&nbsp;there&nbsp;is&nbsp;a&nbsp;&lt;expr-primary&gt;&nbsp;production&nbsp;under<br>
&lt;template-arg&gt;&nbsp;that&nbsp;makes&nbsp;that&nbsp;the&nbsp;case.&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;Here&nbsp;is&nbsp;the&nbsp;example&nbsp;I&nbsp;actually&nbsp;used:&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;Courier&quot;&gt;extern&nbsp;&quot;C&quot;&nbsp;bool&nbsp;IsEmpty(char<br>
*);&nbsp;//&nbsp;(un)mangled&nbsp;as&nbsp;IsEmpty&lt;br&gt;<br>
template&lt;bool&nbsp;(&amp;)(char&nbsp;*)&gt;&nbsp;struct&nbsp;CB&nbsp;{&nbsp;static&nbsp;int&nbsp;x;&nbsp;};&lt;br&gt;<br>
//&nbsp;CB&lt;IsEmpty&gt;&nbsp;is&nbsp;mangled&nbsp;as&nbsp;&quot;2CBIL_Z7IsEmptyEE&quot;&lt;br&gt;<br>
int&nbsp;*p&nbsp;=&nbsp;&amp;CB&lt;IsEmpty&gt;::x;&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;The&nbsp;example&nbsp;is&nbsp;shown&nbsp;without&nbsp;any&nbsp;supporting<br>
rules&nbsp;in&nbsp;the&nbsp;spec&nbsp;which&nbsp;makes&nbsp;it&nbsp;hard&nbsp;to&nbsp;justify&nbsp;other&nbsp;then&nbsp;an&nbsp;intuition,<br>
and&nbsp;it&nbsp;is&nbsp;shown&nbsp;with&nbsp;just&nbsp;the&nbsp;_Z7&nbsp;prefix&nbsp;mangling&nbsp;on&nbsp;the&nbsp;function.&nbsp;It&nbsp;does<br>
not&nbsp;mangle&nbsp;the&nbsp;function&nbsp;parameter,&nbsp;which&nbsp;may&nbsp;be&nbsp;OK&nbsp;if&nbsp;the&nbsp;group&nbsp;decides<br>
it&nbsp;is&nbsp;so&nbsp;since&nbsp;extern&nbsp;&quot;C&quot;&nbsp;function&nbsp;can't&nbsp;be&nbsp;overloaded&nbsp;anyway<br>
and&nbsp;you&nbsp;can't&nbsp;have&nbsp;it&nbsp;with&nbsp;different&nbsp;parameters.&nbsp;But&nbsp;then&nbsp;why&nbsp;bother&nbsp;to<br>
mangle&nbsp;it&nbsp;at&nbsp;all?&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;Checking&nbsp;various&nbsp;versions&nbsp;of&nbsp;GNU&nbsp;also<br>
shows&nbsp;different&nbsp;mangling&nbsp;with&nbsp;the&nbsp;latest&nbsp;that&nbsp;I&nbsp;have&nbsp;(4.1.2)&nbsp;deviating<br>
the&nbsp;most&nbsp;from&nbsp;the&nbsp;example.&nbsp;I&nbsp;show&nbsp;the&nbsp;example&nbsp;with&nbsp;and&nbsp;without&nbsp;the&nbsp;extern<br>
&quot;C&quot;.&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;gcc&nbsp;(GCC)&nbsp;4.1.2&nbsp;20071124&nbsp;(Red&nbsp;Hat&nbsp;4.1.2-42)&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;with&nbsp;extern&nbsp;&quot;C&quot;:&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;_ZN2CBILZ7IsEmptyEE1xE&nbsp;&lt;==&nbsp;GCC&nbsp;missing<br>
X&nbsp;and&nbsp;has&nbsp;the&nbsp;Z&nbsp;(but&nbsp;no&nbsp;underscore)&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;without&nbsp;extern&nbsp;&quot;C&quot;:&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;_ZN2CBILZ7IsEmptyPcEE1xE&nbsp;&lt;===&nbsp;This<br>
is&nbsp;close&nbsp;but&nbsp;it&nbsp;is&nbsp;still&nbsp;missing&nbsp;the&nbsp;X&nbsp;and&nbsp;has&nbsp;no&nbsp;_Z&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;gcc&nbsp;(GCC)&nbsp;3.3.4&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;with&nbsp;extern&nbsp;&quot;C&quot;:&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;_ZN2CBIXL7IsEmptyEEE1xE&nbsp;&lt;==&nbsp;Older<br>
GCC&nbsp;has&nbsp;the&nbsp;X,&nbsp;but&nbsp;leaves&nbsp;out&nbsp;the&nbsp;_Z&nbsp;or&nbsp;Z&nbsp;(same&nbsp;as&nbsp;us&nbsp;with&nbsp;extern&nbsp;&quot;C&quot;),<br>
indicating&nbsp;no&nbsp;mangling,&nbsp;but&nbsp;it&nbsp;has&nbsp;the&nbsp;7&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;without&nbsp;extern&nbsp;&quot;C&quot;:&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;_ZN2CBIXL_Z7IsEmptyPcEEE1xE&nbsp;&lt;==&nbsp;This<br>
one&nbsp;looks&nbsp;OK,&nbsp;same&nbsp;as&nbsp;us&nbsp;without&nbsp;extern&nbsp;&quot;C&quot;&lt;/font&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;Anybody&nbsp;can&nbsp;report&nbsp;what&nbsp;EDG/Intel&nbsp;generates?<br>
Thanks.&lt;/font&gt;<br>
&lt;br&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;&lt;br&gt;<br>
Michael&nbsp;Wong&lt;br&gt;<br>
XL&nbsp;C++&nbsp;Compiler&nbsp;kernel&nbsp;Development&lt;br&gt;<br>
IBM&nbsp;Canada&nbsp;Ltd.,&nbsp;C2/KD2/8200/MKM&lt;br&gt;<br>
8200&nbsp;Warden&nbsp;Avenue&lt;br&gt;<br>
Markham,&nbsp;Ontario&nbsp;&nbsp;L6G&nbsp;1C7&lt;br&gt;<br>
W:905-413-3283&nbsp;F:905-413-4839&lt;br&gt;<br>
Boost&nbsp;test&nbsp;results&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;a&nbsp;href=&quot;http://www-1.ibm.com/support/docview.wss?rs=2239&amp;context=SSJT9L&amp;uid=swg27006911&quot;&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;http://www-1.ibm.com/support/docview.wss?rs=2239&amp;context=SSJT9L&amp;uid=swg27006911&lt;/font&gt;&lt;/a&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;&lt;br&gt;<br>
C/C++&nbsp;Compilers&nbsp;Support&nbsp;Page&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;a&nbsp;href=http://www.ibm.com/software/awdtools/ccompilers/support/&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;http://www.ibm.com/software/awdtools/ccompilers/support/&lt;/font&gt;&lt;/a&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;&lt;br&gt;<br>
C/C++&nbsp;Feature&nbsp;Request&nbsp;Interface&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;a&nbsp;href=&quot;http://www.ibm.com/support/docview.wss?uid=swg27005811&quot;&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;http://www.ibm.com/support/docview.wss?uid=swg27005811&lt;/font&gt;&lt;/a&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;&lt;br&gt;<br>
XL&nbsp;Fortran&nbsp;Compiler&nbsp;Support&nbsp;Page&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;a&nbsp;href=http://www.ibm.com/software/awdtools/fortran/xlfortran/support/&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;http://www.ibm.com/software/awdtools/fortran/xlfortran/support/&lt;/font&gt;&lt;/a&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;&lt;br&gt;<br>
XL&nbsp;Fortran&nbsp;Feature&nbsp;Request&nbsp;Interface&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;a&nbsp;href=&quot;http://www.ibm.com/support/docview.wss?uid=swg27005812&quot;&gt;&lt;font&nbsp;size=2&nbsp;face=&quot;sans-serif&quot;&gt;http://www.ibm.com/support/docview.wss?uid=swg27005812&lt;/font&gt;&lt;/a&gt;
</tt>
