<tt>
&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;10pt&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;Hi,&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;Consider&nbsp;the&nbsp;following:&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;struct&nbsp;E&nbsp;{};&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;struct&nbsp;X&nbsp;:&nbsp;E&nbsp;{};&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;struct&nbsp;C&nbsp;:&nbsp;E,&nbsp;X&nbsp;{&nbsp;char&nbsp;x;&nbsp;};&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;char&nbsp;C::*c1&nbsp;=&nbsp;&amp;C::x;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;char&nbsp;X::*x&nbsp;=&nbsp;(char(X::*))c1;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;char&nbsp;C::*c2&nbsp;=&nbsp;x2;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;int&nbsp;main()&nbsp;{&nbsp;return&nbsp;c2&nbsp;!=&nbsp;0;&nbsp;}&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;I&nbsp;believe&nbsp;this&nbsp;program&nbsp;is&nbsp;valid&nbsp;and&nbsp;has&nbsp;defined&nbsp;behavior;&nbsp;per&nbsp;[expr.static.cast]p12,&nbsp;we&nbsp;can&nbsp;convert&nbsp;a&nbsp;pointer&nbsp;to&nbsp;a&nbsp;member&nbsp;of&nbsp;a&nbsp;derived&nbsp;class&nbsp;to&nbsp;a&nbsp;pointer&nbsp;to&nbsp;a&nbsp;member&nbsp;of&nbsp;a&nbsp;base&nbsp;class,&nbsp;so&nbsp;long&nbsp;as&nbsp;the&nbsp;base&nbsp;class&nbsp;is&nbsp;a&nbsp;base&nbsp;class&nbsp;of&nbsp;the&nbsp;class&nbsp;containing&nbsp;the&nbsp;original&nbsp;member.&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;Per&nbsp;the&nbsp;ABI,&nbsp;C::x&nbsp;is&nbsp;at&nbsp;offset&nbsp;0,&nbsp;C::E&nbsp;is&nbsp;at&nbsp;offset&nbsp;0,&nbsp;and&nbsp;C::X&nbsp;and&nbsp;C::X::E&nbsp;are&nbsp;at&nbsp;offset&nbsp;1&nbsp;(they&nbsp;can&#39;t&nbsp;go&nbsp;at&nbsp;0&nbsp;due&nbsp;to&nbsp;the&nbsp;collision&nbsp;of&nbsp;the&nbsp;empty&nbsp;E&nbsp;base&nbsp;class).&nbsp;So&nbsp;the&nbsp;value&nbsp;of&nbsp;c1&nbsp;is&nbsp;0.&nbsp;And&nbsp;the&nbsp;value&nbsp;of&nbsp;x&nbsp;is...&nbsp;-1.&nbsp;Whoops.&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style&gt;Finally,&nbsp;the&nbsp;conversion&nbsp;from&nbsp;x&nbsp;to&nbsp;c2&nbsp;preserves&nbsp;the&nbsp;-1&nbsp;value&nbsp;(conversion&nbsp;of&nbsp;a&nbsp;null&nbsp;member&nbsp;pointer&nbsp;produces&nbsp;a&nbsp;null&nbsp;member&nbsp;pointer),&nbsp;giving&nbsp;the&nbsp;wrong&nbsp;value&nbsp;for&nbsp;x2,&nbsp;and&nbsp;resulting&nbsp;in&nbsp;main&nbsp;returning&nbsp;0,&nbsp;where&nbsp;the&nbsp;standard&nbsp;requires&nbsp;it&nbsp;to&nbsp;return&nbsp;1&nbsp;(likewise,&nbsp;returning&nbsp;x&nbsp;!=&nbsp;0&nbsp;would&nbsp;produce&nbsp;the&nbsp;wrong&nbsp;value).&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
