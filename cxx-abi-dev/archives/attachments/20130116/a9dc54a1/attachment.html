<tt>
&lt;html&gt;&lt;body&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;Does&nbsp;the&nbsp;C++&nbsp;Standard&nbsp;committee&nbsp;intend&nbsp;for&nbsp;the&nbsp;ODR&nbsp;to&nbsp;imply&nbsp;that&nbsp;lambdas&nbsp;need&nbsp;to&nbsp;have&nbsp;an&nbsp;ABI&nbsp;specified&nbsp;layout&nbsp;in&nbsp;order&nbsp;to&nbsp;deal&nbsp;with&nbsp;inline&nbsp;functions.&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;Consider&nbsp;the&nbsp;following&nbsp;with&nbsp;one&nbsp;object&nbsp;compiled&nbsp;with&nbsp;-DMAIN&nbsp;and&nbsp;another&nbsp;without:&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;-&nbsp;in&nbsp;one&nbsp;case&nbsp;the&nbsp;layout&nbsp;needs&nbsp;to&nbsp;be&nbsp;compatible&nbsp;between&nbsp;different&nbsp;implementations&nbsp;since&nbsp;the&nbsp;static&nbsp;local&nbsp;is&nbsp;shared&nbsp;between&nbsp;translation&nbsp;units&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;/data/a.o:&nbsp;In&nbsp;function&nbsp;`main':&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;a.cpp:(.text+0x18):&nbsp;undefined&nbsp;reference&nbsp;to&nbsp;`bar()'&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;collect2:&nbsp;error:&nbsp;ld&nbsp;returned&nbsp;1&nbsp;exit&nbsp;status&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;-&nbsp;in&nbsp;the&nbsp;other&nbsp;case,&nbsp;the&nbsp;layout&nbsp;needs&nbsp;to&nbsp;be&nbsp;compatible&nbsp;between&nbsp;different&nbsp;implementations&nbsp;in&nbsp;order&nbsp;to&nbsp;satisfy&nbsp;the&nbsp;ODR&nbsp;requirement&nbsp;that&nbsp;the&nbsp;program&nbsp;behave&nbsp;as&nbsp;if&nbsp;there&nbsp;was&nbsp;only&nbsp;one&nbsp;definition&nbsp;of&nbsp;the&nbsp;inline&nbsp;function&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;extern&nbsp;&quot;C&quot;&nbsp;int&nbsp;printf(const&nbsp;char&nbsp;*,&nbsp;...);&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;extern&nbsp;long&nbsp;gz;&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;inline&nbsp;void&nbsp;foo()&nbsp;{&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;long&nbsp;x&nbsp;=&nbsp;0,&nbsp;q&nbsp;=&nbsp;0,&nbsp;&amp;z&nbsp;=&nbsp;gz;&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;static&nbsp;auto&nbsp;f&nbsp;=&nbsp;[=,&nbsp;&amp;z]()&nbsp;mutable&nbsp;{&nbsp;q&nbsp;+=&nbsp;++x;&nbsp;gz&nbsp;=&nbsp;q&nbsp;+&nbsp;x;&nbsp;};&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;long&nbsp;a,&nbsp;b;&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;auto&nbsp;ff&nbsp;=&nbsp;[=]{&nbsp;sizeof(a&nbsp;/*not&nbsp;an&nbsp;odr-use*/),&nbsp;printf(&quot;%u\n&quot;,&nbsp;&amp;b&nbsp;&lt;&nbsp;&amp;a);&nbsp;};&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;f();&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;ff();&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;}&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;void&nbsp;bar();&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;#if&nbsp;!&nbsp;MAIN&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;void&nbsp;bar()&nbsp;{&nbsp;foo();&nbsp;}&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;#else&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;long&nbsp;gz;&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;int&nbsp;main()&nbsp;{&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;foo();&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;bar();&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;foo();&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;&nbsp;&nbsp;&nbsp;return&nbsp;gz;&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;}&lt;/font&gt;&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;#endif&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;I&nbsp;apologize&nbsp;if&nbsp;this&nbsp;issue&nbsp;has&nbsp;been&nbsp;dealt&nbsp;with.&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;sans-serif&quot;&gt;Regards,&nbsp;Michael&lt;br&gt;<br>
&lt;br&gt;<br>
OpenMP&nbsp;CEO:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://openmp.org/wp/about-openmp/&quot;&gt;http://openmp.org/wp/about-openmp/&lt;/a&gt;&lt;br&gt;<br>
My&nbsp;Blogs:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://ibm.co/pCvPHR&quot;&gt;http://ibm.co/pCvPHR&lt;/a&gt;&lt;br&gt;<br>
C++11&nbsp;status:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://tinyurl.com/43y8xgf&quot;&gt;http://tinyurl.com/43y8xgf&lt;/a&gt;&lt;br&gt;<br>
Boost&nbsp;test&nbsp;results&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.ibm.com/support/docview.wss?rs=2239&amp;context=SSJT9L&amp;uid=swg27006911&quot;&gt;http://www.ibm.com/support/docview.wss?rs=2239&amp;context=SSJT9L&amp;uid=swg27006911&lt;/a&gt;&lt;br&gt;<br>
C/C++&nbsp;Compilers&nbsp;Support/Feature&nbsp;Request&nbsp;Page&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://www.ibm.com/software/awdtools/ccompilers/support/&quot;&gt;http://www.ibm.com/software/awdtools/ccompilers/support/&lt;/a&gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.ibm.com/support/docview.wss?uid=swg27005811&quot;&gt;http://www.ibm.com/support/docview.wss?uid=swg27005811&lt;/a&gt;&lt;br&gt;<br>
STM:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;https://sites.google.com/site/tmforcplusplus/&quot;&gt;https://sites.google.com/site/tmforcplusplus/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Director&nbsp;&amp;&nbsp;Vice&nbsp;President&nbsp;ISOCPP.org&lt;br&gt;<br>
Canada&nbsp;and&nbsp;IBM&nbsp;C++Standard&nbsp;HoD&lt;br&gt;<br>
Chair&nbsp;of&nbsp;WG21&nbsp;SG5&nbsp;Transactional&nbsp;Memory&lt;br&gt;<br>
&lt;br&gt;<br>
XL&nbsp;C++&nbsp;Compiler&nbsp;kernel&nbsp;Development&lt;br&gt;<br>
IBM&nbsp;Canada&nbsp;Ltd.,&nbsp;C2/KD2/8200/MKM&lt;br&gt;<br>
8200&nbsp;Warden&nbsp;Avenue&lt;br&gt;<br>
Markham,&nbsp;Ontario&nbsp;&nbsp;L6G&nbsp;1C7&lt;br&gt;<br>
W:905-413-3283&nbsp;F:905-413-4839&lt;/font&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
