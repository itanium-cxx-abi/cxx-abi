<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Types Table pointers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Types%20Table%20pointers&In-Reply-To=%3C10C8636AE359D4119118009027AE99870639C95E%40FMSMSX34%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001333.html">
   <LINK REL="Next"  HREF="001335.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Types Table pointers</H1>
    <B>Narayanaswamy, Ravi</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Types%20Table%20pointers&In-Reply-To=%3C10C8636AE359D4119118009027AE99870639C95E%40FMSMSX34%3E"
       TITLE="Types Table pointers">ravi.narayanaswamy at intel.com
       </A><BR>
    <I>Thu Mar  8 23:54:06 UTC 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="001333.html">[C++ PATCH] ctor vtable vcall offsets
</A></li>
        <LI>Next message: <A HREF="001335.html">exceptions.pdf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1334">[ date ]</a>
              <a href="thread.html#1334">[ thread ]</a>
              <a href="subject.html#1334">[ subject ]</a>
              <a href="author.html#1334">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>According to the ABI, the pointer to the typeinfo in the Types Tables are
GP-relative offset.  The
typeinfo is 16bytes (&gt;8 bytes go in data) and is global (globals by default
go in data).  Should they 
be put in sdata or should we make the typeinfo pointer be segrel.

Below is the code Intel's compiler is generating. Can someone tell me what
should be corrected :

Assembly code:
        .section .text
        //Type Table
        data8 @gprel(_ZTIi)
        .
        .
        .section .gnu.linkonce.d._ZTIi, &quot;wa&quot;, &quot;progbits&quot;
        .align 16
        .global _ZTIi#
_ZTIi:
        .weak _ZTIi#
        data8.ua _ZTVN10__cxxabiv123__fundamental_type_infoE# + 0x00000010
        data8.ua __STRING$0#    
        .global _ZTVN10__cxxabiv123__fundamental_type_infoE#

Thanks
Ravi
Intel Corporation



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001333.html">[C++ PATCH] ctor vtable vcall offsets
</A></li>
	<LI>Next message: <A HREF="001335.html">exceptions.pdf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1334">[ date ]</a>
              <a href="thread.html#1334">[ thread ]</a>
              <a href="subject.html#1334">[ subject ]</a>
              <a href="author.html#1334">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
