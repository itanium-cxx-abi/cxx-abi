<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> C++ ABI: Proposed key function tweak
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20C%2B%2B%20ABI%3A%20Proposed%20key%20function%20tweak&In-Reply-To=%3C20010321081406R.mitchell%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001346.html">
   <LINK REL="Next"  HREF="001348.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>C++ ABI: Proposed key function tweak</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20C%2B%2B%20ABI%3A%20Proposed%20key%20function%20tweak&In-Reply-To=%3C20010321081406R.mitchell%40codesourcery.com%3E"
       TITLE="C++ ABI: Proposed key function tweak">mark at codesourcery.com
       </A><BR>
    <I>Wed Mar 21 16:14:06 UTC 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="001346.html">C++ ABI: Proposed key function tweak
</A></li>
        <LI>Next message: <A HREF="001348.html">C++ ABI: Proposed key function tweak
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1347">[ date ]</a>
              <a href="thread.html#1347">[ thread ]</a>
              <a href="subject.html#1347">[ subject ]</a>
              <a href="author.html#1347">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;&gt;<i> &quot;Jason&quot; == Jason Merrill &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">jason at redhat.com</A>&gt; writes:
</I>
    Jason&gt; OK, I concede.  But how would you feel about making this
    Jason&gt; change for other targets in g++?  I'm thinking particularly
    Jason&gt; of those that don't have a COMDAT mechanism.

If you think that's really valuable, maybe.  

But, I'm not convinced that the marginal benefit here will outweigh
the cost of having subtly different ABIs in different places.  Right
now, we're in a situation where things are very consistent across
platforms; arguable more so than with the old ABI.

I'd still argue that to help the non-COMDAT people there are two good
approaches:

  - A prelinker that puts everything together nicely.

  - Wait: they'll all go away with a few years.
   
    Even PowerPC AIX may get a COMDAT-like thing according to David
    Edelsohn.

I guess the questions is whether people use pure virtual destructors
enough to make this worthwhile?

--
Mark Mitchell                   <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">mark at codesourcery.com</A>
CodeSourcery, LLC               <A HREF="http://www.codesourcery.com">http://www.codesourcery.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001346.html">C++ ABI: Proposed key function tweak
</A></li>
	<LI>Next message: <A HREF="001348.html">C++ ABI: Proposed key function tweak
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1347">[ date ]</a>
              <a href="thread.html#1347">[ thread ]</a>
              <a href="subject.html#1347">[ subject ]</a>
              <a href="author.html#1347">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
