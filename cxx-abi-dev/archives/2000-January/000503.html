<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Updated mangling specs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Updated%20mangling%20specs&In-Reply-To=%3C87256873.004ED825.00%40d53mta04h.boulder.ibm.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000501.html">
   <LINK REL="Next"  HREF="000506.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Updated mangling specs</H1>
    <B>mendell at ca.ibm.com</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20Updated%20mangling%20specs&In-Reply-To=%3C87256873.004ED825.00%40d53mta04h.boulder.ibm.com%3E"
       TITLE="Updated mangling specs">mendell at ca.ibm.com
       </A><BR>
    <I>Thu Jan 27 14:23:19 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="000501.html">Meeting agenda for 27 Jan
</A></li>
        <LI>Next message: <A HREF="000506.html">Updated mangling specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#503">[ date ]</a>
              <a href="thread.html#503">[ thread ]</a>
              <a href="subject.html#503">[ subject ]</a>
              <a href="author.html#503">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Our template/standard guy thinks that this is not essential.  His words:



   My understanding of 14.5.5.1 is that it says that this mangling is not
   required.  Paragraphs 6 to 8 define equivalent and functionally
   equivalent expressions and function templates.

   'I + 10' and 'I + 1 + 2 + 3 + 4' are not equivalent but they are
   functionally equivalent.

   I think the mangling described below could be used to make all
   nonequivalent functions disctinct, but these paragraphs state that only
   functionally equivalent function template are distinct.

   Quotes from paragraph 8 of 14.5.5.1.

   'This rule quarantees that equivalent declarations will be linked with
   one another, while not requiring implementations to use heroic efforts
   to guarantee that functionally equivalent declarations will be treated
   as distinct'.  I believe the mangling described below is the heroic
   effort mentioned here.

   '// Ill-formed, no diagnostic required
    template &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+10&gt;);
    template &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+1+2+3+4&gt;);'

   I'm guessing that the mangling below would be used to make this well
   formed by making these two functions distinct.

   Having said all this, I'm not 100% sure that I'm right.






<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">mendell at ca.ibm.com</A> wrote:
&gt;<i>
</I>&gt;<i> Does anyone implement this for templates?
</I>&gt;<i>
</I>&gt;<i>    c) an expression, e.g., &quot;B&lt;(J+1)/2&gt;&quot; is encoded with a prefix
</I>traversal
&gt;<i>       of the operators involved, delimited by &quot;X...E&quot;.  The operators are
</I>&gt;<i>       encoded using their two letter mangled names.  For example,
</I>&gt;<i> &quot;B&lt;(J+1)/2&gt;&quot;
</I>&gt;<i>       becomes &quot;1BI Xdv pl T1_ Li1E Li2E E E&quot; (the blanks were inserted to
</I>&gt;<i>       visualize the decomposition).
</I>&gt;<i>
</I>&gt;<i> We certainly don't.  The expression gets converted to an integer value in
</I>&gt;<i> our compiler, and the integer is what is encoded.
</I>&gt;<i>
</I>&gt;<i> Can you tell me what part of the standard applies here?
</I>
Sure: it's 14.5.5.1 (most paragraphs).

     Daveed




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000501.html">Meeting agenda for 27 Jan
</A></li>
	<LI>Next message: <A HREF="000506.html">Updated mangling specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#503">[ date ]</a>
              <a href="thread.html#503">[ thread ]</a>
              <a href="subject.html#503">[ subject ]</a>
              <a href="author.html#503">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
