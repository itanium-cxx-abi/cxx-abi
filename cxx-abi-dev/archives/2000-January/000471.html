<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> array new-expressions: proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20array%20new-expressions%3A%20proposal&In-Reply-To=%3C200001241459.PAA29179%40pandora%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000475.html">
   <LINK REL="Next"  HREF="000473.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>array new-expressions: proposal</H1>
    <B>Martin von Loewis</B> 
    <A HREF="mailto:cxx-abi-dev%40codesourcery.com?Subject=Re%3A%20array%20new-expressions%3A%20proposal&In-Reply-To=%3C200001241459.PAA29179%40pandora%3E"
       TITLE="array new-expressions: proposal">loewis at informatik.hu-berlin.de
       </A><BR>
    <I>Mon Jan 24 14:59:46 UTC 2000</I>
    <P><UL>
        <LI>Previous message: <A HREF="000475.html">array new-expressions: proposal
</A></li>
        <LI>Next message: <A HREF="000473.html">array new-expressions: proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#471">[ date ]</a>
              <a href="thread.html#471">[ thread ]</a>
              <a href="subject.html#471">[ subject ]</a>
              <a href="author.html#471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; PROPOSAL A.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; No version of operator new[] is a special case.
</I>[...]
&gt;<i> There is a reason that placement new is called _placement_ new:
</I>&gt;<i> the intent was to allow the placement of objects and arrays at a 
</I>&gt;<i> given address.  In effect, it's a way to specify a &quot;this&quot; pointer
</I>&gt;<i> to a constructor.
</I>&gt;<i> 
</I>&gt;<i> So I think Proposal A is really not a good idea.
</I>
Why not? Under the proposal, it would have exactly the effect of
&quot;specifying the 'this' pointer to a constructor&quot;. Of course, when you
create an array, you invoke more than one constructor, so you see more
than one 'this' pointer.

Under proposal A, the field elements are all allocated within the
specified space passed into the new expression. That's what you would
expect to happen, and that's what actually happens.

Regards,
Martin


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000475.html">array new-expressions: proposal
</A></li>
	<LI>Next message: <A HREF="000473.html">array new-expressions: proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#471">[ date ]</a>
              <a href="thread.html#471">[ thread ]</a>
              <a href="subject.html#471">[ subject ]</a>
              <a href="author.html#471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/cxx-abi-dev">More information about the cxx-abi-dev
mailing list</a><br>
</body></html>
